!function t(e,a,r){function n(i,u){if(!a[i]){if(!e[i]){var l="function"==typeof require&&require;if(!u&&l)return l(i,!0);if(o)return o(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var c=a[i]={exports:{}};e[i][0].call(c.exports,function(t){var a=e[i][1][t];return n(a?a:t)},c,c.exports,t,e,a,r)}return a[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)n(r[i]);return n}({1:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var n=t("./pongie/game"),o=r(n),i=new o["default"];i.run()},{"./pongie/game":6}],2:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),l=function m(t,e,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:m(n,e,a)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(a)},s=t("../entity"),c=r(s),f=t("../shaders/simple_shader"),h=r(f),M=t("gl-matrix").vec2,d=function(t){function e(t){n(this,e);for(var a=[0,0,0,1,1,1,1],r=0;r<2*Math.PI+Math.PI/16;r+=Math.PI/16)a.push(Math.cos(r),Math.sin(r),0,1,1,1,1);var i=o(this,Object.getPrototypeOf(e).call(this,t,new h["default"](t.renderer),a,null,"TRIANGLE_FAN"));return i.position=M.fromValues(100,100),i.scaling=M.fromValues(10,10),i.velocity=M.fromValues(.2,.1),i}return i(e,t),u(e,[{key:"update",value:function(t){var a=this;this.game.entities.forEach(function(t){if(t!==a&&t.checkBallCollision(a)){var e=M.dot(t.normal,a.velocity);M.add(a.velocity,a.velocity,M.scale(M.create(),t.normal,-2*e))}}),l(Object.getPrototypeOf(e.prototype),"update",this).call(this,t)}}]),e}(c["default"]);a["default"]=d},{"../entity":5,"../shaders/simple_shader":12,"gl-matrix":15}],3:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),l=t("../entity"),s=r(l),c=t("../shaders/simple_shader"),f=r(c),h=t("gl-matrix").vec2,M=function(t){function e(t){var a=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?1:arguments[2];n(this,e);var i=[0,5,0,1,1,1,1,0,-5,0,1,1,1,1,800,-5,0,1,1,1,1,800,5,0,1,1,1,1],u=[0,1,3,3,1,2],l=o(this,Object.getPrototypeOf(e).call(this,t,new f["default"](t.renderer),i,u));return l.position=h.fromValues(0,a),l.normal=h.fromValues(0,r),l}return i(e,t),u(e,[{key:"checkBallCollision",value:function(t){return Math.abs(t.position[1]-this.position[1])<=t.scaling[1]?!0:void 0}}]),e}(s["default"]);a["default"]=M},{"../entity":5,"../shaders/simple_shader":12,"gl-matrix":15}],4:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),l=function m(t,e,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:m(n,e,a)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(a)},s=t("../entity"),c=r(s),f=t("../shaders/simple_shader"),h=r(f),M=t("gl-matrix").vec2,d=function(t){function e(t){var a=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?1:arguments[2];n(this,e);var i=[-10,-50,0,1,1,1,1,-10,50,0,1,1,1,1,10,50,0,1,1,1,1,10,-50,0,1,1,1,1],u=[0,1,3,3,1,2],l=o(this,Object.getPrototypeOf(e).call(this,t,new h["default"](t.renderer),i,u));return l.x=a,l.position=M.fromValues(l.x,150),l.normal=M.fromValues(r,0),l}return i(e,t),u(e,[{key:"update",value:function(t){var a=this.game.mouseInput.position[1];60>a?a=60:a>540&&(a=540),this.position=M.fromValues(this.x,a),l(Object.getPrototypeOf(e.prototype),"update",this).call(this,t)}},{key:"checkBallCollision",value:function(t){return Math.abs(t.position[0]-this.position[0])<=t.scaling[0]&&Math.abs(t.position[1]-this.position[1])<=t.scaling[0]+50?!0:void 0}}]),e}(c["default"]);a["default"]=d},{"../entity":5,"../shaders/simple_shader":12,"gl-matrix":15}],5:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),i=t("./vertex_buffer"),u=r(i),l=t("./index_buffer"),s=r(l),c=t("gl-matrix").mat4,f=t("gl-matrix").vec2,h=t("gl-matrix").vec3,M=function(){function t(e,a){var r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],o=arguments.length<=3||void 0===arguments[3]?null:arguments[3],i=arguments.length<=4||void 0===arguments[4]?"TRIANGLES":arguments[4];n(this,t),this.game=e,this.renderer=this.game.renderer,this.shader=a,this.vertexBuffer=new u["default"](this.renderer,r),this.indexBuffer=o?new s["default"](this.renderer,o):null,this.type=i,this.position=f.create(),this.scaling=f.fromValues(1,1),this.angle=0,this.velocity=f.create(),this.normal=f.create(),this.calculateTransformation()}return o(t,[{key:"update",value:function(t){this.integrateValues(t),this.calculateTransformation()}},{key:"draw",value:function(){this.renderer.draw(this.shader,this.vertexBuffer,this.indexBuffer,this.renderer.gl[this.type],this.indexBuffer?this.indexBuffer.elementCount:this.vertexBuffer.elementCount/this.shader.elementCount,this.transformation)}},{key:"integrateValues",value:function(t){f.add(this.position,this.position,f.scale(f.create(),this.velocity,t))}},{key:"calculateTransformation",value:function(){this.transformation=c.translate(c.create(),c.create(),h.fromValues(this.position[0],this.position[1],0)),c.rotateZ(this.transformation,this.transformation,this.angle),c.scale(this.transformation,this.transformation,h.fromValues(this.scaling[0],this.scaling[1],1))}},{key:"checkBallCollision",value:function(){return!1}}]),t}();a["default"]=M},{"./index_buffer":7,"./vertex_buffer":14,"gl-matrix":15}],6:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),i=t("./renderer"),u=r(i),l=t("./mouse_input"),s=r(l),c=t("./entities/border"),f=r(c),h=t("./entities/paddle"),M=r(h),d=t("./entities/ball"),m=r(d),x=function(){function t(){n(this,t),this.renderer=new u["default"],this.mouseInput=new s["default"](this.renderer.canvas),this.entities=[],this.entities.push(new f["default"](this,5,1)),this.entities.push(new f["default"](this,595,-1)),this.entities.push(new M["default"](this,10,1)),this.entities.push(new M["default"](this,790,-1)),this.entities.push(new m["default"](this))}return o(t,[{key:"run",value:function(){var t=this;this.lastTime=Date.now(),requestAnimationFrame(function(){return t.loop()})}},{key:"loop",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?Date.now():arguments[0];requestAnimationFrame(function(){return t.loop()});var a=e-this.lastTime;this.mouseInput.update(),this.entities.forEach(function(t){return t.update(a)}),this.renderer.clear(),this.entities.forEach(function(t){return t.draw()}),this.lastTime=e}}]),t}();a["default"]=x},{"./entities/ball":2,"./entities/border":3,"./entities/paddle":4,"./mouse_input":9,"./renderer":10}],7:[function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),o=function(){function t(e){var a=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];r(this,t),this.renderer=e,this.indexBufferObject=this.renderer.gl.createBuffer(),this.fill(a)}return n(t,[{key:"fill",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.renderer.bindIndexBuffer(this),this.renderer.gl.bufferData(this.renderer.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),this.renderer.gl.STATIC_DRAW),this.elementCount=t.length}}]),t}();a["default"]=o},{}],8:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),l=t("./vertex_attribute"),s=r(l),c=function(t){function e(t){var a=arguments.length<=1||void 0===arguments[1]?4:arguments[1];n(this,e);var r=o(this,Object.getPrototypeOf(e).call(this,t,a*a));return r.size=a,r.uniformMethod="uniformMatrix"+r.size+"fv",r}return i(e,t),u(e,[{key:"setUniformValue",value:function(t,e,a){t[this.uniformMethod](e,!1,a)}}]),e}(s["default"]);a["default"]=c},{"./vertex_attribute":13}],9:[function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),o=t("gl-matrix").vec2,i=function(){function t(e){var a=this;r(this,t),this.canvas=e,this.recordedPosition=o.create(),this.position=o.create(),this.deltaPosition=o.create(),this.recorderButtonsDown={},this.buttonsDown={},this.justPressed={},this.justReleased={},addEventListener("mousemove",function(t){var e=a.canvas.getBoundingClientRect();a.recordedPosition=o.fromValues(t.clientX-e.left,t.clientY-e.top)}),addEventListener("mousedown",function(t){switch(t.button){case 0:a.recorderButtonsDown.left=!0;break;case 1:a.recorderButtonsDown.middle=!0;break;case 2:a.recorderButtonsDown.right=!0}}),addEventListener("mouseup",function(t){switch(t.button){case 0:delete a.recorderButtonsDown.left;break;case 1:delete a.recorderButtonsDown.middle;break;case 2:delete a.recorderButtonsDown.right}})}return n(t,[{key:"update",value:function(){var t=o.clone(this.position);this.position=o.clone(this.recordedPosition),o.subtract(this.deltaPosition,this.position,t);var e=Object.assign({},this.buttonsDown);this.buttonsDown=Object.assign({},this.recorderButtonsDown),this.justPressed={};var a=!0,r=!1,n=void 0;try{for(var i,u=Object.keys(this.buttonsDown)[Symbol.iterator]();!(a=(i=u.next()).done);a=!0){var l=i.value;e[l]||(this.justPressed[l]=!0)}}catch(s){r=!0,n=s}finally{try{!a&&u["return"]&&u["return"]()}finally{if(r)throw n}}this.justReleased={};var c=!0,f=!1,h=void 0;try{for(var M,d=Object.keys(e)[Symbol.iterator]();!(c=(M=d.next()).done);c=!0){var m=M.value;this.buttonsDown[m]||(this.justReleased[m]=!0)}}catch(s){f=!0,h=s}finally{try{!c&&d["return"]&&d["return"]()}finally{if(f)throw h}}}}]),t}();a["default"]=i},{"gl-matrix":15}],10:[function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),o=t("gl-matrix").mat4,i=t("gl-matrix").vec2,u=t("gl-matrix").vec4,l=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?i.fromValues(800,600):arguments[0];r(this,t),this.dimensions=i.clone(e),this.canvas=document.createElement("canvas"),this.canvas.width=this.dimensions[0],this.canvas.height=this.dimensions[1],this.viewport=u.fromValues(0,0,this.dimensions[0],this.dimensions[1]),document.body.appendChild(this.canvas),this.gl=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl"),this.gl.viewport(this.viewport[0],this.viewport[1],this.viewport[2],this.viewport[3]),this.gl.clearColor(0,0,0,1),this.gl.enable(this.gl.BLEND),this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.projection=o.create(),o.ortho(this.projection,0,this.dimensions[0],this.dimensions[1],0,-1,1),this.vertexBuffer=null,this.indexBuffer=null,this.shader=null,this.enabledVertexAttributeArrays={},this.uniformValues=new Map}return n(t,[{key:"bindVertexBuffer",value:function(t){if(t!==this.vertexBuffer){var e=t?t.vertexBufferObject:null;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.vertexBuffer=t}}},{key:"bindIndexBuffer",value:function(t){if(t!==this.indexBuffer){var e=t?t.indexBufferObject:null;this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,e),this.indexBuffer=t}}},{key:"useShader",value:function(t){t!==this.shader&&(this.gl.useProgram(t.shaderProgram),this.shader=t)}},{key:"enableVertexAttributeArray",value:function(t){this.enabledVertexAttributeArrays[t]||(this.gl.enableVertexAttribArray(t),this.enabledVertexAttributeArrays[t]=!0)}},{key:"setUniformValue",value:function(t,e,a){this.uniformValues.get(e)!==a&&(t.setUniformValue(this.gl,e,a),this.uniformValues.set(e,a))}},{key:"clear",value:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}},{key:"draw",value:function(t,e,a,r,n){var i=arguments.length<=5||void 0===arguments[5]?o.create():arguments[5];this.bindVertexBuffer(e),this.bindIndexBuffer(a),t.setVertexAttributes(),t.modelViewValue=i,t.projectionValue=this.projection,t.use(),a?this.gl.drawElements(r,n,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(r,0,n)}}]),t}();a["default"]=l},{"gl-matrix":15}],11:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),i=t("./vertex_attribute"),u=r(i),l=t("./matrix_vertex_attribute"),s=r(l),c=t("gl-matrix").mat4,f=[new u["default"]("vertexPosition")],h=[new s["default"]("modelView"),new s["default"]("projection")],M=function(){function t(e,a,r){var o=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],i=arguments.length<=4||void 0===arguments[4]?[]:arguments[4];n(this,t),this.renderer=e;var u=this.renderer.gl;this.vertexAttributes=f.concat(o),this.uniforms=h.concat(i),this.vertexShader=u.createShader(u.VERTEX_SHADER),u.shaderSource(this.vertexShader,a()),u.compileShader(this.vertexShader),u.getShaderParameter(this.vertexShader,u.COMPILE_STATUS)||alert(u.getShaderInfoLog(this.vertexShader)),this.fragmentShader=u.createShader(u.FRAGMENT_SHADER),u.shaderSource(this.fragmentShader,r()),u.compileShader(this.fragmentShader),u.getShaderParameter(this.vertexShader,u.COMPILE_STATUS)||alert(u.getShaderInfoLog(this.vertexShader)),this.shaderProgram=u.createProgram(),u.attachShader(this.shaderProgram,this.vertexShader),u.attachShader(this.shaderProgram,this.fragmentShader),u.linkProgram(this.shaderProgram),u.getProgramParameter(this.shaderProgram,u.LINK_STATUS)||alert(u.getProgramInfoLog(this.shaderProgram)),this.elementCount=0,this.vertexSize=0;var l=!0,s=!1,M=void 0;try{for(var d,m=this.vertexAttributes[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){var x=d.value;this[x.name]=u.getAttribLocation(this.shaderProgram,x.name),this.elementCount+=x.elementCount,this.vertexSize+=x.byteCount}}catch(v){s=!0,M=v}finally{try{!l&&m["return"]&&m["return"]()}finally{if(s)throw M}}var S=!0,I=!1,b=void 0;try{for(var D,p=this.uniforms[Symbol.iterator]();!(S=(D=p.next()).done);S=!0){var F=D.value;this[F.name]=u.getUniformLocation(this.shaderProgram,F.name)}}catch(v){I=!0,b=v}finally{try{!S&&p["return"]&&p["return"]()}finally{if(I)throw b}}this.modelViewValue=c.create(),this.projectionValue=c.create()}return o(t,[{key:"setVertexAttributes",value:function(){var t=0,e=!0,a=!1,r=void 0;try{for(var n,o=this.vertexAttributes[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;this.renderer.gl.vertexAttribPointer(this[i.name],i.elementCount,this.renderer.gl[i.elementType],!1,this.vertexSize,t),t+=i.byteCount}}catch(u){a=!0,r=u}finally{try{!e&&o["return"]&&o["return"]()}finally{if(a)throw r}}}},{key:"use",value:function(){this.renderer.useShader(this);var t=!0,e=!1,a=void 0;try{for(var r,n=this.vertexAttributes[Symbol.iterator]();!(t=(r=n.next()).done);t=!0){var o=r.value;this.renderer.enableVertexAttributeArray(this[o.name])}}catch(i){e=!0,a=i}finally{try{!t&&n["return"]&&n["return"]()}finally{if(e)throw a}}var u=!0,l=!1,s=void 0;try{for(var c,f=this.uniforms[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value;this.renderer.setUniformValue(h,this[h.name],this[h.name+"Value"])}}catch(i){l=!0,s=i}finally{try{!u&&f["return"]&&f["return"]()}finally{if(l)throw s}}}}]),t}();a["default"]=M},{"./matrix_vertex_attribute":8,"./vertex_attribute":13,"gl-matrix":15}],12:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(a,"__esModule",{value:!0});var u=t("../vertex_attribute"),l=r(u),s=t("../shader"),c=r(s),f=t("../../../shaders/simple.vert"),h=t("../../../shaders/simple.frag"),M=[new l["default"]("vertexColor",4)],d=function(t){function e(t){return n(this,e),o(this,Object.getPrototypeOf(e).call(this,t,f,h,M))}return i(e,t),e}(c["default"]);a["default"]=d},{"../../../shaders/simple.frag":25,"../../../shaders/simple.vert":26,"../shader":11,"../vertex_attribute":13}],13:[function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),o=function(){function t(e){var a=arguments.length<=1||void 0===arguments[1]?3:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"FLOAT":arguments[2];switch(r(this,t),this.name=e,this.elementCount=a,this.elementType=n,this.uniformMethod="uniform"+this.elementCount+("FLOAT"===this.elementType?"f":"i")+(this.elementCount>1?"v":""),this.elementType){case"BYTE":this.byteCount=this.elementCount*Int8Array.BYTES_PER_ELEMENT;break;case"UNSIGNED_BYTE":this.byteCount=this.elementCount*Uint8Array.BYTES_PER_ELEMENT;break;case"SHORT":this.byteCount=this.elementCount*Int16Array.BYTES_PER_ELEMENT;break;case"UNSIGNED_SHORT":this.byteCount=this.elementCount*Uint16Array.BYTES_PER_ELEMENT;break;case"FIXED":this.byteCount=this.elementCount*Int32Array.BYTES_PER_ELEMENT;break;case"FLOAT":this.byteCount=this.elementCount*Float32Array.BYTES_PER_ELEMENT}}return n(t,[{key:"setUniformValue",value:function(t,e,a){t[this.uniformMethod](e,a)}}]),t}();a["default"]=o},{}],14:[function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),o=function(){function t(e){var a=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];r(this,t),this.renderer=e,this.vertexBufferObject=this.renderer.gl.createBuffer(),this.fill(a)}return n(t,[{key:"fill",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.renderer.bindVertexBuffer(this),this.renderer.gl.bufferData(this.renderer.gl.ARRAY_BUFFER,new Float32Array(t),this.renderer.gl.STATIC_DRAW),this.elementCount=t.length}}]),t}();a["default"]=o},{}],15:[function(t,e,a){a.glMatrix=t("./gl-matrix/common.js"),a.mat2=t("./gl-matrix/mat2.js"),a.mat2d=t("./gl-matrix/mat2d.js"),a.mat3=t("./gl-matrix/mat3.js"),a.mat4=t("./gl-matrix/mat4.js"),a.quat=t("./gl-matrix/quat.js"),a.vec2=t("./gl-matrix/vec2.js"),a.vec3=t("./gl-matrix/vec3.js"),a.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":16,"./gl-matrix/mat2.js":17,"./gl-matrix/mat2d.js":18,"./gl-matrix/mat3.js":19,"./gl-matrix/mat4.js":20,"./gl-matrix/quat.js":21,"./gl-matrix/vec2.js":22,"./gl-matrix/vec3.js":23,"./gl-matrix/vec4.js":24}],16:[function(t,e,a){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.ENABLE_SIMD=!1,r.SIMD_AVAILABLE=r.ARRAY_TYPE===Float32Array&&"SIMD"in this,r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE,r.setMatrixArrayType=function(t){r.ARRAY_TYPE=t};var n=Math.PI/180;r.toRadian=function(t){return t*n},r.equals=function(t,e){return Math.abs(t-e)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},e.exports=r},{}],17:[function(t,e,a){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.fromValues=function(t,e,a,n){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=a,o[3]=n,o},n.set=function(t,e,a,r,n){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t},n.transpose=function(t,e){if(t===e){var a=e[1];t[1]=e[2],t[2]=a}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},n.invert=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],i=a*o-n*r;return i?(i=1/i,t[0]=o*i,t[1]=-r*i,t[2]=-n*i,t[3]=a*i,t):null},n.adjoint=function(t,e){var a=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=a,t},n.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},n.multiply=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=a[0],l=a[1],s=a[2],c=a[3];return t[0]=r*u+o*l,t[1]=n*u+i*l,t[2]=r*s+o*c,t[3]=n*s+i*c,t},n.mul=n.multiply,n.rotate=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=Math.sin(a),l=Math.cos(a);return t[0]=r*l+o*u,t[1]=n*l+i*u,t[2]=r*-u+o*l,t[3]=n*-u+i*l,t},n.scale=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=a[0],l=a[1];return t[0]=r*u,t[1]=n*u,t[2]=o*l,t[3]=i*l,t},n.fromRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=a,t[2]=-a,t[3]=r,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},n.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},n.LDU=function(t,e,a,r){return t[2]=r[2]/r[0],a[0]=r[0],a[1]=r[1],a[3]=r[3]-t[2]*a[1],[t,e,a]},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t},n.sub=n.subtract,n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],i=t[3],u=e[0],l=e[1],s=e[2],c=e[3];return Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))},n.multiplyScalar=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t},n.multiplyScalarAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t},e.exports=n},{"./common.js":16}],18:[function(t,e,a){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.fromValues=function(t,e,a,n,o,i){var u=new r.ARRAY_TYPE(6);return u[0]=t,u[1]=e,u[2]=a,u[3]=n,u[4]=o,u[5]=i,u},n.set=function(t,e,a,r,n,o,i){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t[4]=o,t[5]=i,t},n.invert=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],i=e[4],u=e[5],l=a*o-r*n;return l?(l=1/l,t[0]=o*l,t[1]=-r*l,t[2]=-n*l,t[3]=a*l,t[4]=(n*u-o*i)*l,t[5]=(r*i-a*u)*l,t):null},n.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},n.multiply=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=a[0],c=a[1],f=a[2],h=a[3],M=a[4],d=a[5];return t[0]=r*s+o*c,t[1]=n*s+i*c,t[2]=r*f+o*h,t[3]=n*f+i*h,t[4]=r*M+o*d+u,t[5]=n*M+i*d+l,t},n.mul=n.multiply,n.rotate=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=Math.sin(a),c=Math.cos(a);return t[0]=r*c+o*s,t[1]=n*c+i*s,t[2]=r*-s+o*c,t[3]=n*-s+i*c,t[4]=u,t[5]=l,t},n.scale=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=a[0],c=a[1];return t[0]=r*s,t[1]=n*s,t[2]=o*c,t[3]=i*c,t[4]=u,t[5]=l,t},n.translate=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=a[0],c=a[1];return t[0]=r,t[1]=n,t[2]=o,t[3]=i,t[4]=r*s+o*c+u,t[5]=n*s+i*c+l,t},n.fromRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=a,t[2]=-a,t[3]=r,t[4]=0,t[5]=0,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},n.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},n.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t[4]=e[4]-a[4],t[5]=e[5]-a[5],t},n.sub=n.subtract,n.multiplyScalar=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t},n.multiplyScalarAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t[4]=e[4]+a[4]*r,t[5]=e[5]+a[5]*r,t},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],i=t[3],u=t[4],l=t[5],s=e[0],c=e[1],f=e[2],h=e[3],M=e[4],d=e[5];return Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(n-c)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(i-h)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(u-M)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(l-d)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(d))},e.exports=n},{"./common.js":16}],19:[function(t,e,a){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},n.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},n.fromValues=function(t,e,a,n,o,i,u,l,s){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=a,c[3]=n,c[4]=o,c[5]=i,c[6]=u,c[7]=l,c[8]=s,c},n.set=function(t,e,a,r,n,o,i,u,l,s){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t[4]=o,t[5]=i,t[6]=u,t[7]=l,t[8]=s,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,e){if(t===e){var a=e[1],r=e[2],n=e[5];t[1]=e[3],t[2]=e[6],t[3]=a,t[5]=e[7],t[6]=r,
t[7]=n}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},n.invert=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],i=e[4],u=e[5],l=e[6],s=e[7],c=e[8],f=c*i-u*s,h=-c*o+u*l,M=s*o-i*l,d=a*f+r*h+n*M;return d?(d=1/d,t[0]=f*d,t[1]=(-c*r+n*s)*d,t[2]=(u*r-n*i)*d,t[3]=h*d,t[4]=(c*a-n*l)*d,t[5]=(-u*a+n*o)*d,t[6]=M*d,t[7]=(-s*a+r*l)*d,t[8]=(i*a-r*o)*d,t):null},n.adjoint=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],i=e[4],u=e[5],l=e[6],s=e[7],c=e[8];return t[0]=i*c-u*s,t[1]=n*s-r*c,t[2]=r*u-n*i,t[3]=u*l-o*c,t[4]=a*c-n*l,t[5]=n*o-a*u,t[6]=o*s-i*l,t[7]=r*l-a*s,t[8]=a*i-r*o,t},n.determinant=function(t){var e=t[0],a=t[1],r=t[2],n=t[3],o=t[4],i=t[5],u=t[6],l=t[7],s=t[8];return e*(s*o-i*l)+a*(-s*n+i*u)+r*(l*n-o*u)},n.multiply=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=a[0],M=a[1],d=a[2],m=a[3],x=a[4],v=a[5],S=a[6],I=a[7],b=a[8];return t[0]=h*r+M*i+d*s,t[1]=h*n+M*u+d*c,t[2]=h*o+M*l+d*f,t[3]=m*r+x*i+v*s,t[4]=m*n+x*u+v*c,t[5]=m*o+x*l+v*f,t[6]=S*r+I*i+b*s,t[7]=S*n+I*u+b*c,t[8]=S*o+I*l+b*f,t},n.mul=n.multiply,n.translate=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=a[0],M=a[1];return t[0]=r,t[1]=n,t[2]=o,t[3]=i,t[4]=u,t[5]=l,t[6]=h*r+M*i+s,t[7]=h*n+M*u+c,t[8]=h*o+M*l+f,t},n.rotate=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=Math.sin(a),M=Math.cos(a);return t[0]=M*r+h*i,t[1]=M*n+h*u,t[2]=M*o+h*l,t[3]=M*i-h*r,t[4]=M*u-h*n,t[5]=M*l-h*o,t[6]=s,t[7]=c,t[8]=f,t},n.scale=function(t,e,a){var r=a[0],n=a[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},n.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},n.fromRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=a,t[2]=0,t[3]=-a,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},n.fromQuat=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],i=a+a,u=r+r,l=n+n,s=a*i,c=r*i,f=r*u,h=n*i,M=n*u,d=n*l,m=o*i,x=o*u,v=o*l;return t[0]=1-f-d,t[3]=c-v,t[6]=h+x,t[1]=c+v,t[4]=1-s-d,t[7]=M-m,t[2]=h-x,t[5]=M+m,t[8]=1-s-f,t},n.normalFromMat4=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],i=e[4],u=e[5],l=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],d=e[12],m=e[13],x=e[14],v=e[15],S=a*u-r*i,I=a*l-n*i,b=a*s-o*i,D=r*l-n*u,p=r*s-o*u,F=n*s-o*l,y=c*m-f*d,w=c*x-h*d,g=c*v-M*d,E=f*x-h*m,P=f*v-M*m,_=h*v-M*x,O=S*_-I*P+b*E+D*g-p*w+F*y;return O?(O=1/O,t[0]=(u*_-l*P+s*E)*O,t[1]=(l*g-i*_-s*w)*O,t[2]=(i*P-u*g+s*y)*O,t[3]=(n*P-r*_-o*E)*O,t[4]=(a*_-n*g+o*w)*O,t[5]=(r*g-a*P-o*y)*O,t[6]=(m*F-x*p+v*D)*O,t[7]=(x*b-d*F-v*I)*O,t[8]=(d*p-m*b+v*S)*O,t):null},n.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t[6]=e[6]+a[6],t[7]=e[7]+a[7],t[8]=e[8]+a[8],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t[4]=e[4]-a[4],t[5]=e[5]-a[5],t[6]=e[6]-a[6],t[7]=e[7]-a[7],t[8]=e[8]-a[8],t},n.sub=n.subtract,n.multiplyScalar=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*a,t},n.multiplyScalarAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t[4]=e[4]+a[4]*r,t[5]=e[5]+a[5]*r,t[6]=e[6]+a[6]*r,t[7]=e[7]+a[7]*r,t[8]=e[8]+a[8]*r,t},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],i=t[3],u=t[4],l=t[5],s=t[6],c=t[7],f=t[8],h=e[0],M=e[1],d=e[2],m=e[3],x=e[4],v=e[5],S=t[6],I=e[7],b=e[8];return Math.abs(a-h)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(n-M)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(o-d)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-m)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(u-x)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(l-v)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(s-S)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(c-I)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(f-b)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))},e.exports=n},{"./common.js":16}],20:[function(t,e,a){var r=t("./common.js"),n={scalar:{},SIMD:{}};n.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},n.fromValues=function(t,e,a,n,o,i,u,l,s,c,f,h,M,d,m,x){var v=new r.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=a,v[3]=n,v[4]=o,v[5]=i,v[6]=u,v[7]=l,v[8]=s,v[9]=c,v[10]=f,v[11]=h,v[12]=M,v[13]=d,v[14]=m,v[15]=x,v},n.set=function(t,e,a,r,n,o,i,u,l,s,c,f,h,M,d,m,x){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t[4]=o,t[5]=i,t[6]=u,t[7]=l,t[8]=s,t[9]=c,t[10]=f,t[11]=h,t[12]=M,t[13]=d,t[14]=m,t[15]=x,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.scalar.transpose=function(t,e){if(t===e){var a=e[1],r=e[2],n=e[3],o=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=a,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=n,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},n.SIMD.transpose=function(t,e){var a,r,n,o,i,u,l,s,c,f;return a=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),n=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),i=SIMD.Float32x4.shuffle(a,r,0,1,4,5),u=SIMD.Float32x4.shuffle(n,o,0,1,4,5),l=SIMD.Float32x4.shuffle(i,u,0,2,4,6),s=SIMD.Float32x4.shuffle(i,u,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,s),i=SIMD.Float32x4.shuffle(a,r,2,3,6,7),u=SIMD.Float32x4.shuffle(n,o,2,3,6,7),c=SIMD.Float32x4.shuffle(i,u,0,2,4,6),f=SIMD.Float32x4.shuffle(i,u,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,f),t},n.transpose=r.USE_SIMD?n.SIMD.transpose:n.scalar.transpose,n.scalar.invert=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],i=e[4],u=e[5],l=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],d=e[12],m=e[13],x=e[14],v=e[15],S=a*u-r*i,I=a*l-n*i,b=a*s-o*i,D=r*l-n*u,p=r*s-o*u,F=n*s-o*l,y=c*m-f*d,w=c*x-h*d,g=c*v-M*d,E=f*x-h*m,P=f*v-M*m,_=h*v-M*x,O=S*_-I*P+b*E+D*g-p*w+F*y;return O?(O=1/O,t[0]=(u*_-l*P+s*E)*O,t[1]=(n*P-r*_-o*E)*O,t[2]=(m*F-x*p+v*D)*O,t[3]=(h*p-f*F-M*D)*O,t[4]=(l*g-i*_-s*w)*O,t[5]=(a*_-n*g+o*w)*O,t[6]=(x*b-d*F-v*I)*O,t[7]=(c*F-h*b+M*I)*O,t[8]=(i*P-u*g+s*y)*O,t[9]=(r*g-a*P-o*y)*O,t[10]=(d*p-m*b+v*S)*O,t[11]=(f*b-c*p-M*S)*O,t[12]=(u*w-i*E-l*y)*O,t[13]=(a*E-r*w+n*y)*O,t[14]=(m*I-d*D-x*S)*O,t[15]=(c*D-f*I+h*S)*O,t):null},n.SIMD.invert=function(t,e){var a,r,n,o,i,u,l,s,c,f,h=SIMD.Float32x4.load(e,0),M=SIMD.Float32x4.load(e,4),d=SIMD.Float32x4.load(e,8),m=SIMD.Float32x4.load(e,12);return i=SIMD.Float32x4.shuffle(h,M,0,1,4,5),r=SIMD.Float32x4.shuffle(d,m,0,1,4,5),a=SIMD.Float32x4.shuffle(i,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,i,1,3,5,7),i=SIMD.Float32x4.shuffle(h,M,2,3,6,7),o=SIMD.Float32x4.shuffle(d,m,2,3,6,7),n=SIMD.Float32x4.shuffle(i,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,i,1,3,5,7),i=SIMD.Float32x4.mul(n,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.mul(r,i),l=SIMD.Float32x4.mul(a,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),u),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),i=SIMD.Float32x4.mul(r,n),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),u),c=SIMD.Float32x4.mul(a,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),i=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),n=SIMD.Float32x4.swizzle(n,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,i),u),s=SIMD.Float32x4.mul(a,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(n,i)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),i=SIMD.Float32x4.mul(a,r),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),s),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),c),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),s),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(n,i)),i=SIMD.Float32x4.mul(a,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(n,i)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),s),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,i),l),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(r,i)),i=SIMD.Float32x4.mul(a,n),i=SIMD.Float32x4.swizzle(i,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,i)),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),c),f=SIMD.Float32x4.mul(a,u),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),i=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(i,i),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(i,i))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,c)),t):null},n.invert=r.USE_SIMD?n.SIMD.invert:n.scalar.invert,n.scalar.adjoint=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],i=e[4],u=e[5],l=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],d=e[12],m=e[13],x=e[14],v=e[15];return t[0]=u*(h*v-M*x)-f*(l*v-s*x)+m*(l*M-s*h),t[1]=-(r*(h*v-M*x)-f*(n*v-o*x)+m*(n*M-o*h)),t[2]=r*(l*v-s*x)-u*(n*v-o*x)+m*(n*s-o*l),t[3]=-(r*(l*M-s*h)-u*(n*M-o*h)+f*(n*s-o*l)),t[4]=-(i*(h*v-M*x)-c*(l*v-s*x)+d*(l*M-s*h)),t[5]=a*(h*v-M*x)-c*(n*v-o*x)+d*(n*M-o*h),t[6]=-(a*(l*v-s*x)-i*(n*v-o*x)+d*(n*s-o*l)),t[7]=a*(l*M-s*h)-i*(n*M-o*h)+c*(n*s-o*l),t[8]=i*(f*v-M*m)-c*(u*v-s*m)+d*(u*M-s*f),t[9]=-(a*(f*v-M*m)-c*(r*v-o*m)+d*(r*M-o*f)),t[10]=a*(u*v-s*m)-i*(r*v-o*m)+d*(r*s-o*u),t[11]=-(a*(u*M-s*f)-i*(r*M-o*f)+c*(r*s-o*u)),t[12]=-(i*(f*x-h*m)-c*(u*x-l*m)+d*(u*h-l*f)),t[13]=a*(f*x-h*m)-c*(r*x-n*m)+d*(r*h-n*f),t[14]=-(a*(u*x-l*m)-i*(r*x-n*m)+d*(r*l-n*u)),t[15]=a*(u*h-l*f)-i*(r*h-n*f)+c*(r*l-n*u),t},n.SIMD.adjoint=function(t,e){var a,r,n,o,i,u,l,s,c,f,h,M,d,a=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),n=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return c=SIMD.Float32x4.shuffle(a,r,0,1,4,5),u=SIMD.Float32x4.shuffle(n,o,0,1,4,5),i=SIMD.Float32x4.shuffle(c,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,c,1,3,5,7),c=SIMD.Float32x4.shuffle(a,r,2,3,6,7),s=SIMD.Float32x4.shuffle(n,o,2,3,6,7),l=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.mul(l,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(u,c),h=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),f),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(u,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),f),d=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,c)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,3,0,1),s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),M=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.mul(i,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),M),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),d),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),M),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.mul(i,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,c)),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),M),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),h),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(u,c)),c=SIMD.Float32x4.mul(i,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),h),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(u,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,c)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),d),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,M),SIMD.Float32x4.store(t,12,d),t},n.adjoint=r.USE_SIMD?n.SIMD.adjoint:n.scalar.adjoint,n.determinant=function(t){var e=t[0],a=t[1],r=t[2],n=t[3],o=t[4],i=t[5],u=t[6],l=t[7],s=t[8],c=t[9],f=t[10],h=t[11],M=t[12],d=t[13],m=t[14],x=t[15],v=e*i-a*o,S=e*u-r*o,I=e*l-n*o,b=a*u-r*i,D=a*l-n*i,p=r*l-n*u,F=s*d-c*M,y=s*m-f*M,w=s*x-h*M,g=c*m-f*d,E=c*x-h*d,P=f*x-h*m;return v*P-S*E+I*g+b*w-D*y+p*F},n.SIMD.multiply=function(t,e,a){var r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4.load(a,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),i))));SIMD.Float32x4.store(t,0,l);var s=SIMD.Float32x4.load(a,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),i))));SIMD.Float32x4.store(t,4,c);var f=SIMD.Float32x4.load(a,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),i))));SIMD.Float32x4.store(t,8,h);var M=SIMD.Float32x4.load(a,12),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,3,3,3,3),i))));return SIMD.Float32x4.store(t,12,d),t},n.scalar.multiply=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=e[9],M=e[10],d=e[11],m=e[12],x=e[13],v=e[14],S=e[15],I=a[0],b=a[1],D=a[2],p=a[3];return t[0]=I*r+b*u+D*f+p*m,t[1]=I*n+b*l+D*h+p*x,t[2]=I*o+b*s+D*M+p*v,t[3]=I*i+b*c+D*d+p*S,I=a[4],b=a[5],D=a[6],p=a[7],t[4]=I*r+b*u+D*f+p*m,t[5]=I*n+b*l+D*h+p*x,t[6]=I*o+b*s+D*M+p*v,t[7]=I*i+b*c+D*d+p*S,I=a[8],b=a[9],D=a[10],p=a[11],t[8]=I*r+b*u+D*f+p*m,t[9]=I*n+b*l+D*h+p*x,t[10]=I*o+b*s+D*M+p*v,t[11]=I*i+b*c+D*d+p*S,I=a[12],b=a[13],D=a[14],p=a[15],t[12]=I*r+b*u+D*f+p*m,t[13]=I*n+b*l+D*h+p*x,t[14]=I*o+b*s+D*M+p*v,t[15]=I*i+b*c+D*d+p*S,t},n.multiply=r.USE_SIMD?n.SIMD.multiply:n.scalar.multiply,n.mul=n.multiply,n.scalar.translate=function(t,e,a){var r,n,o,i,u,l,s,c,f,h,M,d,m=a[0],x=a[1],v=a[2];return e===t?(t[12]=e[0]*m+e[4]*x+e[8]*v+e[12],t[13]=e[1]*m+e[5]*x+e[9]*v+e[13],t[14]=e[2]*m+e[6]*x+e[10]*v+e[14],t[15]=e[3]*m+e[7]*x+e[11]*v+e[15]):(r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=e[9],M=e[10],d=e[11],t[0]=r,t[1]=n,t[2]=o,t[3]=i,t[4]=u,t[5]=l,t[6]=s,t[7]=c,t[8]=f,t[9]=h,t[10]=M,t[11]=d,t[12]=r*m+u*x+f*v+e[12],t[13]=n*m+l*x+h*v+e[13],t[14]=o*m+s*x+M*v+e[14],t[15]=i*m+c*x+d*v+e[15]),t},n.SIMD.translate=function(t,e,a){var r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4(a[0],a[1],a[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(u,0,0,0,0)),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(u,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(u,2,2,2,2));var l=SIMD.Float32x4.add(r,SIMD.Float32x4.add(n,SIMD.Float32x4.add(o,i)));return SIMD.Float32x4.store(t,12,l),t},n.translate=r.USE_SIMD?n.SIMD.translate:n.scalar.translate,n.scalar.scale=function(t,e,a){var r=a[0],n=a[1],o=a[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},n.SIMD.scale=function(t,e,a){var r,n,o,i=SIMD.Float32x4(a[0],a[1],a[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(i,0,0,0,0))),n=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(i,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},n.scale=r.USE_SIMD?n.SIMD.scale:n.scalar.scale,n.rotate=function(t,e,a,n){var o,i,u,l,s,c,f,h,M,d,m,x,v,S,I,b,D,p,F,y,w,g,E,P,_=n[0],O=n[1],A=n[2],z=Math.sqrt(_*_+O*O+A*A);return Math.abs(z)<r.EPSILON?null:(z=1/z,_*=z,O*=z,A*=z,o=Math.sin(a),i=Math.cos(a),u=1-i,l=e[0],s=e[1],c=e[2],f=e[3],h=e[4],M=e[5],d=e[6],m=e[7],x=e[8],v=e[9],S=e[10],I=e[11],b=_*_*u+i,D=O*_*u+A*o,p=A*_*u-O*o,F=_*O*u-A*o,y=O*O*u+i,w=A*O*u+_*o,g=_*A*u+O*o,E=O*A*u-_*o,P=A*A*u+i,t[0]=l*b+h*D+x*p,t[1]=s*b+M*D+v*p,t[2]=c*b+d*D+S*p,t[3]=f*b+m*D+I*p,t[4]=l*F+h*y+x*w,t[5]=s*F+M*y+v*w,t[6]=c*F+d*y+S*w,t[7]=f*F+m*y+I*w,t[8]=l*g+h*E+x*P,t[9]=s*g+M*E+v*P,t[10]=c*g+d*E+S*P,t[11]=f*g+m*E+I*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},n.scalar.rotateX=function(t,e,a){var r=Math.sin(a),n=Math.cos(a),o=e[4],i=e[5],u=e[6],l=e[7],s=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*n+s*r,t[5]=i*n+c*r,t[6]=u*n+f*r,t[7]=l*n+h*r,t[8]=s*n-o*r,t[9]=c*n-i*r,t[10]=f*n-u*r,t[11]=h*n-l*r,t},n.SIMD.rotateX=function(t,e,a){var r=SIMD.Float32x4.splat(Math.sin(a)),n=SIMD.Float32x4.splat(Math.cos(a));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,n),SIMD.Float32x4.mul(o,r))),t},n.rotateX=r.USE_SIMD?n.SIMD.rotateX:n.scalar.rotateX,n.scalar.rotateY=function(t,e,a){var r=Math.sin(a),n=Math.cos(a),o=e[0],i=e[1],u=e[2],l=e[3],s=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n-s*r,t[1]=i*n-c*r,t[2]=u*n-f*r,t[3]=l*n-h*r,t[8]=o*r+s*n,t[9]=i*r+c*n,t[10]=u*r+f*n,t[11]=l*r+h*n,t},n.SIMD.rotateY=function(t,e,a){var r=SIMD.Float32x4.splat(Math.sin(a)),n=SIMD.Float32x4.splat(Math.cos(a));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(i,n))),t},n.rotateY=r.USE_SIMD?n.SIMD.rotateY:n.scalar.rotateY,n.scalar.rotateZ=function(t,e,a){var r=Math.sin(a),n=Math.cos(a),o=e[0],i=e[1],u=e[2],l=e[3],s=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n+s*r,t[1]=i*n+c*r,t[2]=u*n+f*r,t[3]=l*n+h*r,t[4]=s*n-o*r,t[5]=c*n-i*r,t[6]=f*n-u*r,t[7]=h*n-l*r,t},n.SIMD.rotateZ=function(t,e,a){var r=SIMD.Float32x4.splat(Math.sin(a)),n=SIMD.Float32x4.splat(Math.cos(a));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,n),SIMD.Float32x4.mul(o,r))),t},n.rotateZ=r.USE_SIMD?n.SIMD.rotateZ:n.scalar.rotateZ,n.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotation=function(t,e,a){var n,o,i,u=a[0],l=a[1],s=a[2],c=Math.sqrt(u*u+l*l+s*s);return Math.abs(c)<r.EPSILON?null:(c=1/c,u*=c,l*=c,s*=c,n=Math.sin(e),o=Math.cos(e),i=1-o,t[0]=u*u*i+o,t[1]=l*u*i+s*n,t[2]=s*u*i-l*n,t[3]=0,t[4]=u*l*i-s*n,t[5]=l*l*i+o,t[6]=s*l*i+u*n,t[7]=0,t[8]=u*s*i+l*n,t[9]=l*s*i-u*n,t[10]=s*s*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},n.fromXRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=a,t[7]=0,t[8]=0,t[9]=-a,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromYRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-a,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=a,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromZRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=a,t[2]=0,t[3]=0,t[4]=-a,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotationTranslation=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=r+r,l=n+n,s=o+o,c=r*u,f=r*l,h=r*s,M=n*l,d=n*s,m=o*s,x=i*u,v=i*l,S=i*s;return t[0]=1-(M+m),t[1]=f+S,t[2]=h-v,t[3]=0,t[4]=f-S,t[5]=1-(c+m),t[6]=d+x,t[7]=0,t[8]=h+v,t[9]=d-x,t[10]=1-(c+M),t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},n.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},n.getRotation=function(t,e){var a=e[0]+e[5]+e[10],r=0;return a>0?(r=2*Math.sqrt(a+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},n.fromRotationTranslationScale=function(t,e,a,r){var n=e[0],o=e[1],i=e[2],u=e[3],l=n+n,s=o+o,c=i+i,f=n*l,h=n*s,M=n*c,d=o*s,m=o*c,x=i*c,v=u*l,S=u*s,I=u*c,b=r[0],D=r[1],p=r[2];return t[0]=(1-(d+x))*b,t[1]=(h+I)*b,t[2]=(M-S)*b,t[3]=0,t[4]=(h-I)*D,t[5]=(1-(f+x))*D,t[6]=(m+v)*D,t[7]=0,t[8]=(M+S)*p,t[9]=(m-v)*p,t[10]=(1-(f+d))*p,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},n.fromRotationTranslationScaleOrigin=function(t,e,a,r,n){var o=e[0],i=e[1],u=e[2],l=e[3],s=o+o,c=i+i,f=u+u,h=o*s,M=o*c,d=o*f,m=i*c,x=i*f,v=u*f,S=l*s,I=l*c,b=l*f,D=r[0],p=r[1],F=r[2],y=n[0],w=n[1],g=n[2];return t[0]=(1-(m+v))*D,t[1]=(M+b)*D,t[2]=(d-I)*D,t[3]=0,t[4]=(M-b)*p,t[5]=(1-(h+v))*p,t[6]=(x+S)*p,t[7]=0,t[8]=(d+I)*F,t[9]=(x-S)*F,t[10]=(1-(h+m))*F,t[11]=0,t[12]=a[0]+y-(t[0]*y+t[4]*w+t[8]*g),t[13]=a[1]+w-(t[1]*y+t[5]*w+t[9]*g),t[14]=a[2]+g-(t[2]*y+t[6]*w+t[10]*g),t[15]=1,t},n.fromQuat=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],i=a+a,u=r+r,l=n+n,s=a*i,c=r*i,f=r*u,h=n*i,M=n*u,d=n*l,m=o*i,x=o*u,v=o*l;return t[0]=1-f-d,t[1]=c+v,t[2]=h-x,t[3]=0,t[4]=c-v,t[5]=1-s-d,t[6]=M+m,t[7]=0,t[8]=h+x,t[9]=M-m,t[10]=1-s-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.frustum=function(t,e,a,r,n,o,i){var u=1/(a-e),l=1/(n-r),s=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(a+e)*u,t[9]=(n+r)*l,t[10]=(i+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*s,t[15]=0,t},n.perspective=function(t,e,a,r,n){var o=1/Math.tan(e/2),i=1/(r-n);return t[0]=o/a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+r)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*r*i,t[15]=0,t},n.perspectiveFromFieldOfView=function(t,e,a,r){var n=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),l=2/(i+u),s=2/(n+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((i-u)*l*.5),t[9]=(n-o)*s*.5,t[10]=r/(a-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*a/(a-r),t[15]=0,t},n.ortho=function(t,e,a,r,n,o,i){var u=1/(e-a),l=1/(r-n),s=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+a)*u,t[13]=(n+r)*l,t[14]=(i+o)*s,t[15]=1,t},n.lookAt=function(t,e,a,o){var i,u,l,s,c,f,h,M,d,m,x=e[0],v=e[1],S=e[2],I=o[0],b=o[1],D=o[2],p=a[0],F=a[1],y=a[2];return Math.abs(x-p)<r.EPSILON&&Math.abs(v-F)<r.EPSILON&&Math.abs(S-y)<r.EPSILON?n.identity(t):(h=x-p,M=v-F,d=S-y,m=1/Math.sqrt(h*h+M*M+d*d),h*=m,M*=m,d*=m,i=b*d-D*M,u=D*h-I*d,l=I*M-b*h,m=Math.sqrt(i*i+u*u+l*l),m?(m=1/m,i*=m,u*=m,l*=m):(i=0,u=0,l=0),s=M*l-d*u,c=d*i-h*l,f=h*u-M*i,m=Math.sqrt(s*s+c*c+f*f),m?(m=1/m,s*=m,c*=m,f*=m):(s=0,c=0,f=0),t[0]=i,t[1]=s,t[2]=h,t[3]=0,t[4]=u,t[5]=c,t[6]=M,t[7]=0,t[8]=l,t[9]=f,t[10]=d,t[11]=0,t[12]=-(i*x+u*v+l*S),t[13]=-(s*x+c*v+f*S),t[14]=-(h*x+M*v+d*S),t[15]=1,t)},n.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t[6]=e[6]+a[6],t[7]=e[7]+a[7],t[8]=e[8]+a[8],t[9]=e[9]+a[9],t[10]=e[10]+a[10],t[11]=e[11]+a[11],t[12]=e[12]+a[12],t[13]=e[13]+a[13],t[14]=e[14]+a[14],t[15]=e[15]+a[15],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t[4]=e[4]-a[4],t[5]=e[5]-a[5],t[6]=e[6]-a[6],t[7]=e[7]-a[7],t[8]=e[8]-a[8],t[9]=e[9]-a[9],t[10]=e[10]-a[10],t[11]=e[11]-a[11],t[12]=e[12]-a[12],t[13]=e[13]-a[13],t[14]=e[14]-a[14],t[15]=e[15]-a[15],t},n.sub=n.subtract,n.multiplyScalar=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12]*a,t[13]=e[13]*a,t[14]=e[14]*a,t[15]=e[15]*a,t},n.multiplyScalarAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t[4]=e[4]+a[4]*r,t[5]=e[5]+a[5]*r,t[6]=e[6]+a[6]*r,t[7]=e[7]+a[7]*r,t[8]=e[8]+a[8]*r,t[9]=e[9]+a[9]*r,t[10]=e[10]+a[10]*r,t[11]=e[11]+a[11]*r,t[12]=e[12]+a[12]*r,t[13]=e[13]+a[13]*r,t[14]=e[14]+a[14]*r,t[15]=e[15]+a[15]*r,t},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],i=t[3],u=t[4],l=t[5],s=t[6],c=t[7],f=t[8],h=t[9],M=t[10],d=t[11],m=t[12],x=t[13],v=t[14],S=t[15],I=e[0],b=e[1],D=e[2],p=e[3],F=e[4],y=e[5],w=e[6],g=e[7],E=e[8],P=e[9],_=e[10],O=e[11],A=e[12],z=e[13],j=e[14],R=e[15];return Math.abs(a-I)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(I))&&Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(o-D)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(D))&&Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(u-F)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(F))&&Math.abs(l-y)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(s-w)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(c-g)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-E)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(h-P)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(M-_)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(_))&&Math.abs(d-O)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(m-A)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(x-z)<=r.EPSILON*Math.max(1,Math.abs(x),Math.abs(z))&&Math.abs(v-j)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(j))&&Math.abs(S-R)<=r.EPSILON*Math.max(1,Math.abs(S),Math.abs(R))},e.exports=n},{"./common.js":16}],21:[function(t,e,a){var r=t("./common.js"),n=t("./mat3.js"),o=t("./vec3.js"),i=t("./vec4.js"),u={};u.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),a=o.fromValues(0,1,0);return function(r,n,i){var l=o.dot(n,i);return-.999999>l?(o.cross(t,e,n),o.length(t)<1e-6&&o.cross(t,a,n),o.normalize(t,t),u.setAxisAngle(r,t,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,n,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+l,u.normalize(r,r))}}(),u.setAxes=function(){var t=n.create();return function(e,a,r,n){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-a[0],t[5]=-a[1],t[8]=-a[2],u.normalize(e,u.fromMat3(e,t))}}(),u.clone=i.clone,u.fromValues=i.fromValues,u.copy=i.copy,u.set=i.set,u.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.setAxisAngle=function(t,e,a){a=.5*a;var r=Math.sin(a);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(a),t},u.getAxisAngle=function(t,e){var a=2*Math.acos(e[3]),r=Math.sin(a/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),a},u.add=i.add,u.multiply=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3],u=a[0],l=a[1],s=a[2],c=a[3];return t[0]=r*c+i*u+n*s-o*l,t[1]=n*c+i*l+o*u-r*s,t[2]=o*c+i*s+r*l-n*u,t[3]=i*c-r*u-n*l-o*s,t},u.mul=u.multiply,u.scale=i.scale,u.rotateX=function(t,e,a){a*=.5;var r=e[0],n=e[1],o=e[2],i=e[3],u=Math.sin(a),l=Math.cos(a);return t[0]=r*l+i*u,t[1]=n*l+o*u,t[2]=o*l-n*u,t[3]=i*l-r*u,t},u.rotateY=function(t,e,a){a*=.5;var r=e[0],n=e[1],o=e[2],i=e[3],u=Math.sin(a),l=Math.cos(a);return t[0]=r*l-o*u,t[1]=n*l+i*u,t[2]=o*l+r*u,t[3]=i*l-n*u,t},u.rotateZ=function(t,e,a){a*=.5;var r=e[0],n=e[1],o=e[2],i=e[3],u=Math.sin(a),l=Math.cos(a);return t[0]=r*l+n*u,t[1]=n*l-r*u,t[2]=o*l+i*u,t[3]=i*l-o*u,t},u.calculateW=function(t,e){var a=e[0],r=e[1],n=e[2];return t[0]=a,t[1]=r,t[2]=n,t[3]=Math.sqrt(Math.abs(1-a*a-r*r-n*n)),t},u.dot=i.dot,u.lerp=i.lerp,u.slerp=function(t,e,a,r){var n,o,i,u,l,s=e[0],c=e[1],f=e[2],h=e[3],M=a[0],d=a[1],m=a[2],x=a[3];return o=s*M+c*d+f*m+h*x,0>o&&(o=-o,M=-M,d=-d,m=-m,x=-x),1-o>1e-6?(n=Math.acos(o),i=Math.sin(n),u=Math.sin((1-r)*n)/i,
l=Math.sin(r*n)/i):(u=1-r,l=r),t[0]=u*s+l*M,t[1]=u*c+l*d,t[2]=u*f+l*m,t[3]=u*h+l*x,t},u.sqlerp=function(){var t=u.create(),e=u.create();return function(a,r,n,o,i,l){return u.slerp(t,r,i,l),u.slerp(e,n,o,l),u.slerp(a,t,e,2*l*(1-l)),a}}(),u.invert=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],i=a*a+r*r+n*n+o*o,u=i?1/i:0;return t[0]=-a*u,t[1]=-r*u,t[2]=-n*u,t[3]=o*u,t},u.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},u.length=i.length,u.len=u.length,u.squaredLength=i.squaredLength,u.sqrLen=u.squaredLength,u.normalize=i.normalize,u.fromMat3=function(t,e){var a,r=e[0]+e[4]+e[8];if(r>0)a=Math.sqrt(r+1),t[3]=.5*a,a=.5/a,t[0]=(e[5]-e[7])*a,t[1]=(e[6]-e[2])*a,t[2]=(e[1]-e[3])*a;else{var n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);var o=(n+1)%3,i=(n+2)%3;a=Math.sqrt(e[3*n+n]-e[3*o+o]-e[3*i+i]+1),t[n]=.5*a,a=.5/a,t[3]=(e[3*o+i]-e[3*i+o])*a,t[o]=(e[3*o+n]+e[3*n+o])*a,t[i]=(e[3*i+n]+e[3*n+i])*a}return t},u.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},u.exactEquals=i.exactEquals,u.equals=i.equals,e.exports=u},{"./common.js":16,"./mat3.js":19,"./vec3.js":23,"./vec4.js":24}],22:[function(t,e,a){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},n.fromValues=function(t,e){var a=new r.ARRAY_TYPE(2);return a[0]=t,a[1]=e,a},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},n.set=function(t,e,a){return t[0]=e,t[1]=a,t},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t},n.sub=n.subtract,n.multiply=function(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t},n.mul=n.multiply,n.divide=function(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t},n.div=n.divide,n.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},n.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},n.min=function(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t},n.max=function(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t},n.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},n.scale=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t},n.scaleAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t},n.distance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(a*a+r*r)},n.dist=n.distance,n.squaredDistance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1];return a*a+r*r},n.sqrDist=n.squaredDistance,n.length=function(t){var e=t[0],a=t[1];return Math.sqrt(e*e+a*a)},n.len=n.length,n.squaredLength=function(t){var e=t[0],a=t[1];return e*e+a*a},n.sqrLen=n.squaredLength,n.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},n.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},n.normalize=function(t,e){var a=e[0],r=e[1],n=a*a+r*r;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t},n.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},n.cross=function(t,e,a){var r=e[0]*a[1]-e[1]*a[0];return t[0]=t[1]=0,t[2]=r,t},n.lerp=function(t,e,a,r){var n=e[0],o=e[1];return t[0]=n+r*(a[0]-n),t[1]=o+r*(a[1]-o),t},n.random=function(t,e){e=e||1;var a=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(a)*e,t[1]=Math.sin(a)*e,t},n.transformMat2=function(t,e,a){var r=e[0],n=e[1];return t[0]=a[0]*r+a[2]*n,t[1]=a[1]*r+a[3]*n,t},n.transformMat2d=function(t,e,a){var r=e[0],n=e[1];return t[0]=a[0]*r+a[2]*n+a[4],t[1]=a[1]*r+a[3]*n+a[5],t},n.transformMat3=function(t,e,a){var r=e[0],n=e[1];return t[0]=a[0]*r+a[3]*n+a[6],t[1]=a[1]*r+a[4]*n+a[7],t},n.transformMat4=function(t,e,a){var r=e[0],n=e[1];return t[0]=a[0]*r+a[4]*n+a[12],t[1]=a[1]*r+a[5]*n+a[13],t},n.forEach=function(){var t=n.create();return function(e,a,r,n,o,i){var u,l;for(a||(a=2),r||(r=0),l=n?Math.min(n*a+r,e.length):e.length,u=r;l>u;u+=a)t[0]=e[u],t[1]=e[u+1],o(t,t,i),e[u]=t[0],e[u+1]=t[1];return e}}(),n.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},n.equals=function(t,e){var a=t[0],n=t[1],o=e[0],i=e[1];return Math.abs(a-o)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))},e.exports=n},{"./common.js":16}],23:[function(t,e,a){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},n.fromValues=function(t,e,a){var n=new r.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=a,n},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},n.set=function(t,e,a,r){return t[0]=e,t[1]=a,t[2]=r,t},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t},n.sub=n.subtract,n.multiply=function(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t[2]=e[2]*a[2],t},n.mul=n.multiply,n.divide=function(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t[2]=e[2]/a[2],t},n.div=n.divide,n.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},n.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},n.min=function(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t[2]=Math.min(e[2],a[2]),t},n.max=function(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t[2]=Math.max(e[2],a[2]),t},n.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},n.scale=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t},n.scaleAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t},n.distance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(a*a+r*r+n*n)},n.dist=n.distance,n.squaredDistance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return a*a+r*r+n*n},n.sqrDist=n.squaredDistance,n.length=function(t){var e=t[0],a=t[1],r=t[2];return Math.sqrt(e*e+a*a+r*r)},n.len=n.length,n.squaredLength=function(t){var e=t[0],a=t[1],r=t[2];return e*e+a*a+r*r},n.sqrLen=n.squaredLength,n.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},n.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},n.normalize=function(t,e){var a=e[0],r=e[1],n=e[2],o=a*a+r*r+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},n.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},n.cross=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=a[0],u=a[1],l=a[2];return t[0]=n*l-o*u,t[1]=o*i-r*l,t[2]=r*u-n*i,t},n.lerp=function(t,e,a,r){var n=e[0],o=e[1],i=e[2];return t[0]=n+r*(a[0]-n),t[1]=o+r*(a[1]-o),t[2]=i+r*(a[2]-i),t},n.hermite=function(t,e,a,r,n,o){var i=o*o,u=i*(2*o-3)+1,l=i*(o-2)+o,s=i*(o-1),c=i*(3-2*o);return t[0]=e[0]*u+a[0]*l+r[0]*s+n[0]*c,t[1]=e[1]*u+a[1]*l+r[1]*s+n[1]*c,t[2]=e[2]*u+a[2]*l+r[2]*s+n[2]*c,t},n.bezier=function(t,e,a,r,n,o){var i=1-o,u=i*i,l=o*o,s=u*i,c=3*o*u,f=3*l*i,h=l*o;return t[0]=e[0]*s+a[0]*c+r[0]*f+n[0]*h,t[1]=e[1]*s+a[1]*c+r[1]*f+n[1]*h,t[2]=e[2]*s+a[2]*c+r[2]*f+n[2]*h,t},n.random=function(t,e){e=e||1;var a=2*r.RANDOM()*Math.PI,n=2*r.RANDOM()-1,o=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(a)*o,t[1]=Math.sin(a)*o,t[2]=n*e,t},n.transformMat4=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=a[3]*r+a[7]*n+a[11]*o+a[15];return i=i||1,t[0]=(a[0]*r+a[4]*n+a[8]*o+a[12])/i,t[1]=(a[1]*r+a[5]*n+a[9]*o+a[13])/i,t[2]=(a[2]*r+a[6]*n+a[10]*o+a[14])/i,t},n.transformMat3=function(t,e,a){var r=e[0],n=e[1],o=e[2];return t[0]=r*a[0]+n*a[3]+o*a[6],t[1]=r*a[1]+n*a[4]+o*a[7],t[2]=r*a[2]+n*a[5]+o*a[8],t},n.transformQuat=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=a[0],u=a[1],l=a[2],s=a[3],c=s*r+u*o-l*n,f=s*n+l*r-i*o,h=s*o+i*n-u*r,M=-i*r-u*n-l*o;return t[0]=c*s+M*-i+f*-l-h*-u,t[1]=f*s+M*-u+h*-i-c*-l,t[2]=h*s+M*-l+c*-u-f*-i,t},n.rotateX=function(t,e,a,r){var n=[],o=[];return n[0]=e[0]-a[0],n[1]=e[1]-a[1],n[2]=e[2]-a[2],o[0]=n[0],o[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),o[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t},n.rotateY=function(t,e,a,r){var n=[],o=[];return n[0]=e[0]-a[0],n[1]=e[1]-a[1],n[2]=e[2]-a[2],o[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),o[1]=n[1],o[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t},n.rotateZ=function(t,e,a,r){var n=[],o=[];return n[0]=e[0]-a[0],n[1]=e[1]-a[1],n[2]=e[2]-a[2],o[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),o[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),o[2]=n[2],t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t},n.forEach=function(){var t=n.create();return function(e,a,r,n,o,i){var u,l;for(a||(a=3),r||(r=0),l=n?Math.min(n*a+r,e.length):e.length,u=r;l>u;u+=a)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}(),n.angle=function(t,e){var a=n.fromValues(t[0],t[1],t[2]),r=n.fromValues(e[0],e[1],e[2]);n.normalize(a,a),n.normalize(r,r);var o=n.dot(a,r);return o>1?0:Math.acos(o)},n.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],i=e[0],u=e[1],l=e[2];return Math.abs(a-i)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))},e.exports=n},{"./common.js":16}],24:[function(t,e,a){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},n.fromValues=function(t,e,a,n){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=a,o[3]=n,o},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},n.set=function(t,e,a,r,n){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t},n.sub=n.subtract,n.multiply=function(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t[2]=e[2]*a[2],t[3]=e[3]*a[3],t},n.mul=n.multiply,n.divide=function(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t[2]=e[2]/a[2],t[3]=e[3]/a[3],t},n.div=n.divide,n.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},n.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},n.min=function(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t[2]=Math.min(e[2],a[2]),t[3]=Math.min(e[3],a[3]),t},n.max=function(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t[2]=Math.max(e[2],a[2]),t[3]=Math.max(e[3],a[3]),t},n.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},n.scale=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t},n.scaleAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t},n.distance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(a*a+r*r+n*n+o*o)},n.dist=n.distance,n.squaredDistance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],o=e[3]-t[3];return a*a+r*r+n*n+o*o},n.sqrDist=n.squaredDistance,n.length=function(t){var e=t[0],a=t[1],r=t[2],n=t[3];return Math.sqrt(e*e+a*a+r*r+n*n)},n.len=n.length,n.squaredLength=function(t){var e=t[0],a=t[1],r=t[2],n=t[3];return e*e+a*a+r*r+n*n},n.sqrLen=n.squaredLength,n.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},n.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},n.normalize=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],i=a*a+r*r+n*n+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=a*i,t[1]=r*i,t[2]=n*i,t[3]=o*i),t},n.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},n.lerp=function(t,e,a,r){var n=e[0],o=e[1],i=e[2],u=e[3];return t[0]=n+r*(a[0]-n),t[1]=o+r*(a[1]-o),t[2]=i+r*(a[2]-i),t[3]=u+r*(a[3]-u),t},n.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),n.normalize(t,t),n.scale(t,t,e),t},n.transformMat4=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=e[3];return t[0]=a[0]*r+a[4]*n+a[8]*o+a[12]*i,t[1]=a[1]*r+a[5]*n+a[9]*o+a[13]*i,t[2]=a[2]*r+a[6]*n+a[10]*o+a[14]*i,t[3]=a[3]*r+a[7]*n+a[11]*o+a[15]*i,t},n.transformQuat=function(t,e,a){var r=e[0],n=e[1],o=e[2],i=a[0],u=a[1],l=a[2],s=a[3],c=s*r+u*o-l*n,f=s*n+l*r-i*o,h=s*o+i*n-u*r,M=-i*r-u*n-l*o;return t[0]=c*s+M*-i+f*-l-h*-u,t[1]=f*s+M*-u+h*-i-c*-l,t[2]=h*s+M*-l+c*-u-f*-i,t[3]=e[3],t},n.forEach=function(){var t=n.create();return function(e,a,r,n,o,i){var u,l;for(a||(a=4),r||(r=0),l=n?Math.min(n*a+r,e.length):e.length,u=r;l>u;u+=a)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}(),n.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],i=t[3],u=e[0],l=e[1],s=e[2],c=e[3];return Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))},e.exports=n},{"./common.js":16}],25:[function(t,e,a){e.exports=function(t){var e="precision mediump float; \n \nvarying vec4 color; \n \nvoid main() { \n  gl_FragColor = color; \n} \n \n";t=t||{};for(var a in t){var r=new RegExp("{{"+a+"}}","g");e=e.replace(r,t[a])}return e}},{}],26:[function(t,e,a){e.exports=function(t){var e="uniform mat4 modelView; \nuniform mat4 projection; \n \nattribute vec3 vertexPosition; \nattribute vec4 vertexColor; \n \nvarying vec4 color; \n \nvoid main() { \n  color = vertexColor; \n \n  gl_Position = projection * modelView * vec4(vertexPosition, 1.0); \n} \n \n";t=t||{};for(var a in t){var r=new RegExp("{{"+a+"}}","g");e=e.replace(r,t[a])}return e}},{}]},{},[1]);