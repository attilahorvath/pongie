!function t(a,e,r){function n(u,l){if(!e[u]){if(!a[u]){var i="function"==typeof require&&require;if(!l&&i)return i(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var c=e[u]={exports:{}};a[u][0].call(c.exports,function(t){var e=a[u][1][t];return n(e?e:t)},c,c.exports,t,a,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)n(r[u]);return n}({1:[function(t,a,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var n=t("./pongie/game"),o=r(n),u=new o["default"];u.run()},{"./pongie/game":6}],2:[function(t,a,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function o(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function u(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(e,"__esModule",{value:!0});var l=t("../entity"),i=r(l),s=t("../shaders/simple_shader"),c=r(s),f=t("gl-matrix").mat4,h=t("gl-matrix").vec3,M=function(t){function a(t){n(this,a);for(var e=[0,0,0,1,1,1,1],r=0;r<2*Math.PI+Math.PI/16;r+=Math.PI/16)e.push(Math.cos(r),Math.sin(r),0,1,1,1,1);var u=f.translate(f.create(),f.create(),h.fromValues(100,100,0));return f.scale(u,u,h.fromValues(10,10,1)),o(this,Object.getPrototypeOf(a).call(this,t,new c["default"](t.renderer),e,null,"TRIANGLE_FAN",u))}return u(a,t),a}(i["default"]);e["default"]=M},{"../entity":5,"../shaders/simple_shader":11,"gl-matrix":14}],3:[function(t,a,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function o(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function u(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(e,"__esModule",{value:!0});var l=t("../entity"),i=r(l),s=t("../shaders/simple_shader"),c=r(s),f=t("gl-matrix").mat4,h=t("gl-matrix").vec3,M=function(t){function a(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];n(this,a);var r=[0,0,0,1,1,1,1,0,10,0,1,1,1,1,800,10,0,1,1,1,1,800,0,0,1,1,1,1],u=[0,1,3,3,1,2],l=f.translate(f.create(),f.create(),h.fromValues(0,e,0));return o(this,Object.getPrototypeOf(a).call(this,t,new c["default"](t.renderer),r,u,"TRIANGLES",l))}return u(a,t),a}(i["default"]);e["default"]=M},{"../entity":5,"../shaders/simple_shader":11,"gl-matrix":14}],4:[function(t,a,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function o(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function u(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(e,"__esModule",{value:!0});var l=t("../entity"),i=r(l),s=t("../shaders/simple_shader"),c=r(s),f=t("gl-matrix").mat4,h=t("gl-matrix").vec3,M=function(t){function a(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];n(this,a);var r=[-10,-50,0,1,1,1,1,-10,50,0,1,1,1,1,10,50,0,1,1,1,1,10,-50,0,1,1,1,1],u=[0,1,3,3,1,2],l=f.translate(f.create(),f.create(),h.fromValues(e,150,0));return o(this,Object.getPrototypeOf(a).call(this,t,new c["default"](t.renderer),r,u,"TRIANGLES",l))}return u(a,t),a}(i["default"]);e["default"]=M},{"../entity":5,"../shaders/simple_shader":11,"gl-matrix":14}],5:[function(t,a,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,a){for(var e=0;e<a.length;e++){var r=a[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(a,e,r){return e&&t(a.prototype,e),r&&t(a,r),a}}(),u=t("./vertex_buffer"),l=r(u),i=t("./index_buffer"),s=r(i),c=t("gl-matrix").mat4,f=function(){function t(a,e){var r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],o=arguments.length<=3||void 0===arguments[3]?null:arguments[3],u=arguments.length<=4||void 0===arguments[4]?"TRIANGLES":arguments[4],i=arguments.length<=5||void 0===arguments[5]?c.create():arguments[5];n(this,t),this.game=a,this.renderer=this.game.renderer,this.shader=e,this.transformation=c.clone(i),this.vertexBuffer=new l["default"](this.renderer,r),this.indexBuffer=o?new s["default"](this.renderer,o):null,this.type=u}return o(t,[{key:"draw",value:function(){this.renderer.draw(this.shader,this.vertexBuffer,this.indexBuffer,this.renderer.gl[this.type],this.indexBuffer?this.indexBuffer.elementCount:this.vertexBuffer.elementCount/this.shader.elementCount,this.transformation)}}]),t}();e["default"]=f},{"./index_buffer":7,"./vertex_buffer":13,"gl-matrix":14}],6:[function(t,a,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,a){for(var e=0;e<a.length;e++){var r=a[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(a,e,r){return e&&t(a.prototype,e),r&&t(a,r),a}}(),u=t("./renderer"),l=r(u),i=t("./entities/border"),s=r(i),c=t("./entities/paddle"),f=r(c),h=t("./entities/ball"),M=r(h),m=function(){function t(){n(this,t),this.renderer=new l["default"],this.topBorder=new s["default"](this),this.bottomBorder=new s["default"](this,590),this.leftPaddle=new f["default"](this,10),this.rightPaddle=new f["default"](this,790),this.ball=new M["default"](this)}return o(t,[{key:"run",value:function(){var t=this;this.lastTime=Date.now(),requestAnimationFrame(function(){return t.loop()})}},{key:"loop",value:function(){var t=this,a=arguments.length<=0||void 0===arguments[0]?Date.now():arguments[0];requestAnimationFrame(function(){return t.loop()}),this.renderer.clear(),this.topBorder.draw(),this.bottomBorder.draw(),this.leftPaddle.draw(),this.rightPaddle.draw(),this.ball.draw(),this.lastTime=a}}]),t}();e["default"]=m},{"./entities/ball":2,"./entities/border":3,"./entities/paddle":4,"./renderer":9}],7:[function(t,a,e){"use strict";function r(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,a){for(var e=0;e<a.length;e++){var r=a[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(a,e,r){return e&&t(a.prototype,e),r&&t(a,r),a}}(),o=function(){function t(a){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];r(this,t),this.renderer=a,this.indexBufferObject=this.renderer.gl.createBuffer(),this.fill(e)}return n(t,[{key:"fill",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.renderer.bindIndexBuffer(this),this.renderer.gl.bufferData(this.renderer.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),this.renderer.gl.STATIC_DRAW),this.elementCount=t.length}}]),t}();e["default"]=o},{}],8:[function(t,a,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function o(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function u(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,a){for(var e=0;e<a.length;e++){var r=a[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(a,e,r){return e&&t(a.prototype,e),r&&t(a,r),a}}(),i=t("./vertex_attribute"),s=r(i),c=function(t){function a(t){var e=arguments.length<=1||void 0===arguments[1]?4:arguments[1];n(this,a);var r=o(this,Object.getPrototypeOf(a).call(this,t,e*e));return r.size=e,r.uniformMethod="uniformMatrix"+r.size+"fv",r}return u(a,t),l(a,[{key:"setUniformValue",value:function(t,a,e){t[this.uniformMethod](a,!1,e)}}]),a}(s["default"]);e["default"]=c},{"./vertex_attribute":12}],9:[function(t,a,e){"use strict";function r(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,a){for(var e=0;e<a.length;e++){var r=a[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(a,e,r){return e&&t(a.prototype,e),r&&t(a,r),a}}(),o=t("gl-matrix").mat4,u=t("gl-matrix").vec2,l=t("gl-matrix").vec4,i=function(){function t(){var a=arguments.length<=0||void 0===arguments[0]?u.fromValues(800,600):arguments[0];r(this,t),this.dimensions=u.clone(a),this.canvas=document.createElement("canvas"),this.canvas.width=this.dimensions[0],this.canvas.height=this.dimensions[1],this.viewport=l.fromValues(0,0,this.dimensions[0],this.dimensions[1]),document.body.appendChild(this.canvas),this.gl=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl"),this.gl.viewport(this.viewport[0],this.viewport[1],this.viewport[2],this.viewport[3]),this.gl.clearColor(0,0,0,1),this.gl.enable(this.gl.BLEND),this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.projection=o.create(),o.ortho(this.projection,0,this.dimensions[0],this.dimensions[1],0,-1,1),this.vertexBuffer=null,this.indexBuffer=null,this.shader=null,this.enabledVertexAttributeArrays={},this.uniformValues=new Map}return n(t,[{key:"bindVertexBuffer",value:function(t){if(t!==this.vertexBuffer){var a=t?t.vertexBufferObject:null;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a),this.vertexBuffer=t}}},{key:"bindIndexBuffer",value:function(t){if(t!==this.indexBuffer){var a=t?t.indexBufferObject:null;this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a),this.indexBuffer=t}}},{key:"useShader",value:function(t){t!==this.shader&&(this.gl.useProgram(t.shaderProgram),this.shader=t)}},{key:"enableVertexAttributeArray",value:function(t){this.enabledVertexAttributeArrays[t]||(this.gl.enableVertexAttribArray(t),this.enabledVertexAttributeArrays[t]=!0)}},{key:"setUniformValue",value:function(t,a,e){this.uniformValues.get(a)!==e&&(t.setUniformValue(this.gl,a,e),this.uniformValues.set(a,e))}},{key:"clear",value:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}},{key:"draw",value:function(t,a,e,r,n){var u=arguments.length<=5||void 0===arguments[5]?o.create():arguments[5];this.bindVertexBuffer(a),this.bindIndexBuffer(e),t.setVertexAttributes(),t.modelViewValue=u,t.projectionValue=this.projection,t.use(),e?this.gl.drawElements(r,n,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(r,0,n)}}]),t}();e["default"]=i},{"gl-matrix":14}],10:[function(t,a,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,a){for(var e=0;e<a.length;e++){var r=a[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(a,e,r){return e&&t(a.prototype,e),r&&t(a,r),a}}(),u=t("./vertex_attribute"),l=r(u),i=t("./matrix_vertex_attribute"),s=r(i),c=t("gl-matrix").mat4,f=[new l["default"]("vertexPosition")],h=[new s["default"]("modelView"),new s["default"]("projection")],M=function(){function t(a,e,r){var o=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],u=arguments.length<=4||void 0===arguments[4]?[]:arguments[4];n(this,t),this.renderer=a;var l=this.renderer.gl;this.vertexAttributes=f.concat(o),this.uniforms=h.concat(u),this.vertexShader=l.createShader(l.VERTEX_SHADER),l.shaderSource(this.vertexShader,e()),l.compileShader(this.vertexShader),l.getShaderParameter(this.vertexShader,l.COMPILE_STATUS)||alert(l.getShaderInfoLog(this.vertexShader)),this.fragmentShader=l.createShader(l.FRAGMENT_SHADER),l.shaderSource(this.fragmentShader,r()),l.compileShader(this.fragmentShader),l.getShaderParameter(this.vertexShader,l.COMPILE_STATUS)||alert(l.getShaderInfoLog(this.vertexShader)),this.shaderProgram=l.createProgram(),l.attachShader(this.shaderProgram,this.vertexShader),l.attachShader(this.shaderProgram,this.fragmentShader),l.linkProgram(this.shaderProgram),l.getProgramParameter(this.shaderProgram,l.LINK_STATUS)||alert(l.getProgramInfoLog(this.shaderProgram)),this.elementCount=0,this.vertexSize=0;var i=!0,s=!1,M=void 0;try{for(var m,d=this.vertexAttributes[Symbol.iterator]();!(i=(m=d.next()).done);i=!0){var x=m.value;this[x.name]=l.getAttribLocation(this.shaderProgram,x.name),this.elementCount+=x.elementCount,this.vertexSize+=x.byteCount}}catch(S){s=!0,M=S}finally{try{!i&&d["return"]&&d["return"]()}finally{if(s)throw M}}var I=!0,v=!1,D=void 0;try{for(var b,F=this.uniforms[Symbol.iterator]();!(I=(b=F.next()).done);I=!0){var p=b.value;this[p.name]=l.getUniformLocation(this.shaderProgram,p.name)}}catch(S){v=!0,D=S}finally{try{!I&&F["return"]&&F["return"]()}finally{if(v)throw D}}this.modelViewValue=c.create(),this.projectionValue=c.create()}return o(t,[{key:"setVertexAttributes",value:function(){var t=0,a=!0,e=!1,r=void 0;try{for(var n,o=this.vertexAttributes[Symbol.iterator]();!(a=(n=o.next()).done);a=!0){var u=n.value;this.renderer.gl.vertexAttribPointer(this[u.name],u.elementCount,this.renderer.gl[u.elementType],!1,this.vertexSize,t),t+=u.byteCount}}catch(l){e=!0,r=l}finally{try{!a&&o["return"]&&o["return"]()}finally{if(e)throw r}}}},{key:"use",value:function(){this.renderer.useShader(this);var t=!0,a=!1,e=void 0;try{for(var r,n=this.vertexAttributes[Symbol.iterator]();!(t=(r=n.next()).done);t=!0){var o=r.value;this.renderer.enableVertexAttributeArray(this[o.name])}}catch(u){a=!0,e=u}finally{try{!t&&n["return"]&&n["return"]()}finally{if(a)throw e}}var l=!0,i=!1,s=void 0;try{for(var c,f=this.uniforms[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var h=c.value;this.renderer.setUniformValue(h,this[h.name],this[h.name+"Value"])}}catch(u){i=!0,s=u}finally{try{!l&&f["return"]&&f["return"]()}finally{if(i)throw s}}}}]),t}();e["default"]=M},{"./matrix_vertex_attribute":8,"./vertex_attribute":12,"gl-matrix":14}],11:[function(t,a,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function o(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function u(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(e,"__esModule",{value:!0});var l=t("../vertex_attribute"),i=r(l),s=t("../shader"),c=r(s),f=t("../../../shaders/simple.vert"),h=t("../../../shaders/simple.frag"),M=[new i["default"]("vertexColor",4)],m=function(t){function a(t){return n(this,a),o(this,Object.getPrototypeOf(a).call(this,t,f,h,M))}return u(a,t),a}(c["default"]);e["default"]=m},{"../../../shaders/simple.frag":24,"../../../shaders/simple.vert":25,"../shader":10,"../vertex_attribute":12}],12:[function(t,a,e){"use strict";function r(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,a){for(var e=0;e<a.length;e++){var r=a[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(a,e,r){return e&&t(a.prototype,e),r&&t(a,r),a}}(),o=function(){function t(a){var e=arguments.length<=1||void 0===arguments[1]?3:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"FLOAT":arguments[2];switch(r(this,t),this.name=a,this.elementCount=e,this.elementType=n,this.uniformMethod="uniform"+this.elementCount+("FLOAT"===this.elementType?"f":"i")+(this.elementCount>1?"v":""),this.elementType){case"BYTE":this.byteCount=this.elementCount*Int8Array.BYTES_PER_ELEMENT;break;case"UNSIGNED_BYTE":this.byteCount=this.elementCount*Uint8Array.BYTES_PER_ELEMENT;break;case"SHORT":this.byteCount=this.elementCount*Int16Array.BYTES_PER_ELEMENT;break;case"UNSIGNED_SHORT":this.byteCount=this.elementCount*Uint16Array.BYTES_PER_ELEMENT;break;case"FIXED":this.byteCount=this.elementCount*Int32Array.BYTES_PER_ELEMENT;break;case"FLOAT":this.byteCount=this.elementCount*Float32Array.BYTES_PER_ELEMENT}}return n(t,[{key:"setUniformValue",value:function(t,a,e){t[this.uniformMethod](a,e)}}]),t}();e["default"]=o},{}],13:[function(t,a,e){"use strict";function r(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,a){for(var e=0;e<a.length;e++){var r=a[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(a,e,r){return e&&t(a.prototype,e),r&&t(a,r),a}}(),o=function(){function t(a){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];r(this,t),this.renderer=a,this.vertexBufferObject=this.renderer.gl.createBuffer(),this.fill(e)}return n(t,[{key:"fill",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.renderer.bindVertexBuffer(this),this.renderer.gl.bufferData(this.renderer.gl.ARRAY_BUFFER,new Float32Array(t),this.renderer.gl.STATIC_DRAW),this.elementCount=t.length}}]),t}();e["default"]=o},{}],14:[function(t,a,e){e.glMatrix=t("./gl-matrix/common.js"),e.mat2=t("./gl-matrix/mat2.js"),e.mat2d=t("./gl-matrix/mat2d.js"),e.mat3=t("./gl-matrix/mat3.js"),e.mat4=t("./gl-matrix/mat4.js"),e.quat=t("./gl-matrix/quat.js"),e.vec2=t("./gl-matrix/vec2.js"),e.vec3=t("./gl-matrix/vec3.js"),e.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":15,"./gl-matrix/mat2.js":16,"./gl-matrix/mat2d.js":17,"./gl-matrix/mat3.js":18,"./gl-matrix/mat4.js":19,"./gl-matrix/quat.js":20,"./gl-matrix/vec2.js":21,"./gl-matrix/vec3.js":22,"./gl-matrix/vec4.js":23}],15:[function(t,a,e){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.ENABLE_SIMD=!1,r.SIMD_AVAILABLE=r.ARRAY_TYPE===Float32Array&&"SIMD"in this,r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE,r.setMatrixArrayType=function(t){r.ARRAY_TYPE=t};var n=Math.PI/180;r.toRadian=function(t){return t*n},r.equals=function(t,a){return Math.abs(t-a)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(a))},a.exports=r},{}],16:[function(t,a,e){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.clone=function(t){var a=new r.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.fromValues=function(t,a,e,n){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=a,o[2]=e,o[3]=n,o},n.set=function(t,a,e,r,n){return t[0]=a,t[1]=e,t[2]=r,t[3]=n,t},n.transpose=function(t,a){if(t===a){var e=a[1];t[1]=a[2],t[2]=e}else t[0]=a[0],t[1]=a[2],t[2]=a[1],t[3]=a[3];return t},n.invert=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],u=e*o-n*r;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-n*u,t[3]=e*u,t):null},n.adjoint=function(t,a){var e=a[0];return t[0]=a[3],t[1]=-a[1],t[2]=-a[2],t[3]=e,t},n.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},n.multiply=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=e[0],i=e[1],s=e[2],c=e[3];return t[0]=r*l+o*i,t[1]=n*l+u*i,t[2]=r*s+o*c,t[3]=n*s+u*c,t},n.mul=n.multiply,n.rotate=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=Math.sin(e),i=Math.cos(e);return t[0]=r*i+o*l,t[1]=n*i+u*l,t[2]=r*-l+o*i,t[3]=n*-l+u*i,t},n.scale=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=e[0],i=e[1];return t[0]=r*l,t[1]=n*l,t[2]=o*i,t[3]=u*i,t},n.fromRotation=function(t,a){var e=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t},n.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t},n.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},n.LDU=function(t,a,e,r){return t[2]=r[2]/r[0],e[0]=r[0],e[1]=r[1],e[3]=r[3]-t[2]*e[1],[t,a,e]},n.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t[3]=a[3]+e[3],t},n.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t[3]=a[3]-e[3],t},n.sub=n.subtract,n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},n.equals=function(t,a){var e=t[0],n=t[1],o=t[2],u=t[3],l=a[0],i=a[1],s=a[2],c=a[3];return Math.abs(e-l)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(u-c)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))},n.multiplyScalar=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t},n.multiplyScalarAndAdd=function(t,a,e,r){return t[0]=a[0]+e[0]*r,t[1]=a[1]+e[1]*r,t[2]=a[2]+e[2]*r,t[3]=a[3]+e[3]*r,t},a.exports=n},{"./common.js":15}],17:[function(t,a,e){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.clone=function(t){var a=new r.ARRAY_TYPE(6);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.fromValues=function(t,a,e,n,o,u){var l=new r.ARRAY_TYPE(6);return l[0]=t,l[1]=a,l[2]=e,l[3]=n,l[4]=o,l[5]=u,l},n.set=function(t,a,e,r,n,o,u){return t[0]=a,t[1]=e,t[2]=r,t[3]=n,t[4]=o,t[5]=u,t},n.invert=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],u=a[4],l=a[5],i=e*o-r*n;return i?(i=1/i,t[0]=o*i,t[1]=-r*i,t[2]=-n*i,t[3]=e*i,t[4]=(n*l-o*u)*i,t[5]=(r*u-e*l)*i,t):null},n.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},n.multiply=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=a[4],i=a[5],s=e[0],c=e[1],f=e[2],h=e[3],M=e[4],m=e[5];return t[0]=r*s+o*c,t[1]=n*s+u*c,t[2]=r*f+o*h,t[3]=n*f+u*h,t[4]=r*M+o*m+l,t[5]=n*M+u*m+i,t},n.mul=n.multiply,n.rotate=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=a[4],i=a[5],s=Math.sin(e),c=Math.cos(e);return t[0]=r*c+o*s,t[1]=n*c+u*s,t[2]=r*-s+o*c,t[3]=n*-s+u*c,t[4]=l,t[5]=i,t},n.scale=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=a[4],i=a[5],s=e[0],c=e[1];return t[0]=r*s,t[1]=n*s,t[2]=o*c,t[3]=u*c,t[4]=l,t[5]=i,t},n.translate=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=a[4],i=a[5],s=e[0],c=e[1];return t[0]=r,t[1]=n,t[2]=o,t[3]=u,t[4]=r*s+o*c+l,t[5]=n*s+u*c+i,t},n.fromRotation=function(t,a){var e=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t[4]=0,t[5]=0,t},n.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t[4]=0,t[5]=0,t},n.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=a[0],t[5]=a[1],t},n.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},n.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t[3]=a[3]+e[3],t[4]=a[4]+e[4],t[5]=a[5]+e[5],t},n.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t[3]=a[3]-e[3],t[4]=a[4]-e[4],t[5]=a[5]-e[5],t},n.sub=n.subtract,n.multiplyScalar=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t[4]=a[4]*e,t[5]=a[5]*e,t},n.multiplyScalarAndAdd=function(t,a,e,r){return t[0]=a[0]+e[0]*r,t[1]=a[1]+e[1]*r,t[2]=a[2]+e[2]*r,t[3]=a[3]+e[3]*r,t[4]=a[4]+e[4]*r,t[5]=a[5]+e[5]*r,t},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]},n.equals=function(t,a){var e=t[0],n=t[1],o=t[2],u=t[3],l=t[4],i=t[5],s=a[0],c=a[1],f=a[2],h=a[3],M=a[4],m=a[5];return Math.abs(e-s)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(n-c)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-h)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(l-M)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(i-m)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))},a.exports=n},{"./common.js":15}],18:[function(t,a,e){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat4=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[4],t[4]=a[5],t[5]=a[6],t[6]=a[8],t[7]=a[9],t[8]=a[10],t},n.clone=function(t){var a=new r.ARRAY_TYPE(9);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},n.fromValues=function(t,a,e,n,o,u,l,i,s){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=a,c[2]=e,c[3]=n,c[4]=o,c[5]=u,c[6]=l,c[7]=i,c[8]=s,c},n.set=function(t,a,e,r,n,o,u,l,i,s){return t[0]=a,t[1]=e,t[2]=r,t[3]=n,t[4]=o,t[5]=u,t[6]=l,t[7]=i,t[8]=s,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,a){if(t===a){var e=a[1],r=a[2],n=a[5];t[1]=a[3],t[2]=a[6],t[3]=e,t[5]=a[7],t[6]=r,t[7]=n}else t[0]=a[0],t[1]=a[3],t[2]=a[6],t[3]=a[1],t[4]=a[4],t[5]=a[7],t[6]=a[2],t[7]=a[5],t[8]=a[8];return t},n.invert=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],u=a[4],l=a[5],i=a[6],s=a[7],c=a[8],f=c*u-l*s,h=-c*o+l*i,M=s*o-u*i,m=e*f+r*h+n*M;return m?(m=1/m,t[0]=f*m,t[1]=(-c*r+n*s)*m,t[2]=(l*r-n*u)*m,t[3]=h*m,t[4]=(c*e-n*i)*m,t[5]=(-l*e+n*o)*m,t[6]=M*m,t[7]=(-s*e+r*i)*m,t[8]=(u*e-r*o)*m,t):null},n.adjoint=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],u=a[4],l=a[5],i=a[6],s=a[7],c=a[8];return t[0]=u*c-l*s,t[1]=n*s-r*c,t[2]=r*l-n*u,t[3]=l*i-o*c,t[4]=e*c-n*i,t[5]=n*o-e*l,t[6]=o*s-u*i,t[7]=r*i-e*s,t[8]=e*u-r*o,t},n.determinant=function(t){var a=t[0],e=t[1],r=t[2],n=t[3],o=t[4],u=t[5],l=t[6],i=t[7],s=t[8];return a*(s*o-u*i)+e*(-s*n+u*l)+r*(i*n-o*l)},n.multiply=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=a[4],i=a[5],s=a[6],c=a[7],f=a[8],h=e[0],M=e[1],m=e[2],d=e[3],x=e[4],S=e[5],I=e[6],v=e[7],D=e[8];return t[0]=h*r+M*u+m*s,t[1]=h*n+M*l+m*c,t[2]=h*o+M*i+m*f,t[3]=d*r+x*u+S*s,t[4]=d*n+x*l+S*c,t[5]=d*o+x*i+S*f,t[6]=I*r+v*u+D*s,t[7]=I*n+v*l+D*c,t[8]=I*o+v*i+D*f,t},n.mul=n.multiply,n.translate=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=a[4],i=a[5],s=a[6],c=a[7],f=a[8],h=e[0],M=e[1];return t[0]=r,t[1]=n,t[2]=o,t[3]=u,t[4]=l,t[5]=i,t[6]=h*r+M*u+s,t[7]=h*n+M*l+c,t[8]=h*o+M*i+f,t},n.rotate=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=a[4],i=a[5],s=a[6],c=a[7],f=a[8],h=Math.sin(e),M=Math.cos(e);return t[0]=M*r+h*u,t[1]=M*n+h*l,t[2]=M*o+h*i,t[3]=M*u-h*r,t[4]=M*l-h*n,t[5]=M*i-h*o,t[6]=s,t[7]=c,t[8]=f,t},n.scale=function(t,a,e){var r=e[0],n=e[1];return t[0]=r*a[0],t[1]=r*a[1],t[2]=r*a[2],t[3]=n*a[3],t[4]=n*a[4],t[5]=n*a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},n.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=a[0],t[7]=a[1],t[8]=1,t},n.fromRotation=function(t,a){var e=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=a[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=0,t[3]=a[2],t[4]=a[3],t[5]=0,t[6]=a[4],t[7]=a[5],t[8]=1,t},n.fromQuat=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],u=e+e,l=r+r,i=n+n,s=e*u,c=r*u,f=r*l,h=n*u,M=n*l,m=n*i,d=o*u,x=o*l,S=o*i;return t[0]=1-f-m,t[3]=c-S,t[6]=h+x,t[1]=c+S,t[4]=1-s-m,t[7]=M-d,t[2]=h-x,t[5]=M+d,t[8]=1-s-f,t},n.normalFromMat4=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],u=a[4],l=a[5],i=a[6],s=a[7],c=a[8],f=a[9],h=a[10],M=a[11],m=a[12],d=a[13],x=a[14],S=a[15],I=e*l-r*u,v=e*i-n*u,D=e*s-o*u,b=r*i-n*l,F=r*s-o*l,p=n*s-o*i,w=c*d-f*m,y=c*x-h*m,g=c*S-M*m,E=f*x-h*d,_=f*S-M*d,P=h*S-M*x,A=I*P-v*_+D*E+b*g-F*y+p*w;return A?(A=1/A,t[0]=(l*P-i*_+s*E)*A,t[1]=(i*g-u*P-s*y)*A,t[2]=(u*_-l*g+s*w)*A,t[3]=(n*_-r*P-o*E)*A,t[4]=(e*P-n*g+o*y)*A,t[5]=(r*g-e*_-o*w)*A,t[6]=(d*p-x*F+S*b)*A,t[7]=(x*D-m*p-S*v)*A,t[8]=(m*F-d*D+S*I)*A,t):null},n.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t[3]=a[3]+e[3],t[4]=a[4]+e[4],t[5]=a[5]+e[5],t[6]=a[6]+e[6],t[7]=a[7]+e[7],t[8]=a[8]+e[8],t},n.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t[3]=a[3]-e[3],t[4]=a[4]-e[4],t[5]=a[5]-e[5],t[6]=a[6]-e[6],t[7]=a[7]-e[7],t[8]=a[8]-e[8],t},n.sub=n.subtract,n.multiplyScalar=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*e,t},n.multiplyScalarAndAdd=function(t,a,e,r){return t[0]=a[0]+e[0]*r,t[1]=a[1]+e[1]*r,t[2]=a[2]+e[2]*r,t[3]=a[3]+e[3]*r,t[4]=a[4]+e[4]*r,t[5]=a[5]+e[5]*r,t[6]=a[6]+e[6]*r,t[7]=a[7]+e[7]*r,t[8]=a[8]+e[8]*r,t},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]},n.equals=function(t,a){var e=t[0],n=t[1],o=t[2],u=t[3],l=t[4],i=t[5],s=t[6],c=t[7],f=t[8],h=a[0],M=a[1],m=a[2],d=a[3],x=a[4],S=a[5],I=t[6],v=a[7],D=a[8];return Math.abs(e-h)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(n-M)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(o-m)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(u-d)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(l-x)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(i-S)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(s-I)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(I))&&Math.abs(c-v)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(f-D)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(D))},a.exports=n},{"./common.js":15}],19:[function(t,a,e){var r=t("./common.js"),n={scalar:{},SIMD:{}};n.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,
t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.clone=function(t){var a=new r.ARRAY_TYPE(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},n.fromValues=function(t,a,e,n,o,u,l,i,s,c,f,h,M,m,d,x){var S=new r.ARRAY_TYPE(16);return S[0]=t,S[1]=a,S[2]=e,S[3]=n,S[4]=o,S[5]=u,S[6]=l,S[7]=i,S[8]=s,S[9]=c,S[10]=f,S[11]=h,S[12]=M,S[13]=m,S[14]=d,S[15]=x,S},n.set=function(t,a,e,r,n,o,u,l,i,s,c,f,h,M,m,d,x){return t[0]=a,t[1]=e,t[2]=r,t[3]=n,t[4]=o,t[5]=u,t[6]=l,t[7]=i,t[8]=s,t[9]=c,t[10]=f,t[11]=h,t[12]=M,t[13]=m,t[14]=d,t[15]=x,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.scalar.transpose=function(t,a){if(t===a){var e=a[1],r=a[2],n=a[3],o=a[6],u=a[7],l=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=e,t[6]=a[9],t[7]=a[13],t[8]=r,t[9]=o,t[11]=a[14],t[12]=n,t[13]=u,t[14]=l}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t},n.SIMD.transpose=function(t,a){var e,r,n,o,u,l,i,s,c,f;return e=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),n=SIMD.Float32x4.load(a,8),o=SIMD.Float32x4.load(a,12),u=SIMD.Float32x4.shuffle(e,r,0,1,4,5),l=SIMD.Float32x4.shuffle(n,o,0,1,4,5),i=SIMD.Float32x4.shuffle(u,l,0,2,4,6),s=SIMD.Float32x4.shuffle(u,l,1,3,5,7),SIMD.Float32x4.store(t,0,i),SIMD.Float32x4.store(t,4,s),u=SIMD.Float32x4.shuffle(e,r,2,3,6,7),l=SIMD.Float32x4.shuffle(n,o,2,3,6,7),c=SIMD.Float32x4.shuffle(u,l,0,2,4,6),f=SIMD.Float32x4.shuffle(u,l,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,f),t},n.transpose=r.USE_SIMD?n.SIMD.transpose:n.scalar.transpose,n.scalar.invert=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],u=a[4],l=a[5],i=a[6],s=a[7],c=a[8],f=a[9],h=a[10],M=a[11],m=a[12],d=a[13],x=a[14],S=a[15],I=e*l-r*u,v=e*i-n*u,D=e*s-o*u,b=r*i-n*l,F=r*s-o*l,p=n*s-o*i,w=c*d-f*m,y=c*x-h*m,g=c*S-M*m,E=f*x-h*d,_=f*S-M*d,P=h*S-M*x,A=I*P-v*_+D*E+b*g-F*y+p*w;return A?(A=1/A,t[0]=(l*P-i*_+s*E)*A,t[1]=(n*_-r*P-o*E)*A,t[2]=(d*p-x*F+S*b)*A,t[3]=(h*F-f*p-M*b)*A,t[4]=(i*g-u*P-s*y)*A,t[5]=(e*P-n*g+o*y)*A,t[6]=(x*D-m*p-S*v)*A,t[7]=(c*p-h*D+M*v)*A,t[8]=(u*_-l*g+s*w)*A,t[9]=(r*g-e*_-o*w)*A,t[10]=(m*F-d*D+S*I)*A,t[11]=(f*D-c*F-M*I)*A,t[12]=(l*y-u*E-i*w)*A,t[13]=(e*E-r*y+n*w)*A,t[14]=(d*v-m*b-x*I)*A,t[15]=(c*b-f*v+h*I)*A,t):null},n.SIMD.invert=function(t,a){var e,r,n,o,u,l,i,s,c,f,h=SIMD.Float32x4.load(a,0),M=SIMD.Float32x4.load(a,4),m=SIMD.Float32x4.load(a,8),d=SIMD.Float32x4.load(a,12);return u=SIMD.Float32x4.shuffle(h,M,0,1,4,5),r=SIMD.Float32x4.shuffle(m,d,0,1,4,5),e=SIMD.Float32x4.shuffle(u,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,u,1,3,5,7),u=SIMD.Float32x4.shuffle(h,M,2,3,6,7),o=SIMD.Float32x4.shuffle(m,d,2,3,6,7),n=SIMD.Float32x4.shuffle(u,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,u,1,3,5,7),u=SIMD.Float32x4.mul(n,o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),l=SIMD.Float32x4.mul(r,u),i=SIMD.Float32x4.mul(e,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,u),l),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,u),i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.mul(r,n),u=SIMD.Float32x4.swizzle(u,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),l),c=SIMD.Float32x4.mul(e,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,u)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,u),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),u=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),n=SIMD.Float32x4.swizzle(n,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,u),l),s=SIMD.Float32x4.mul(e,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(n,u)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,u),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),u=SIMD.Float32x4.mul(e,r),u=SIMD.Float32x4.swizzle(u,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),s),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,u),c),u=SIMD.Float32x4.swizzle(u,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,u),s),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(n,u)),u=SIMD.Float32x4.mul(e,o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(n,u)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,u),s),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,u),i),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(r,u)),u=SIMD.Float32x4.mul(e,n),u=SIMD.Float32x4.swizzle(u,1,0,3,2),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),i),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,u)),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(o,u)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,u),c),f=SIMD.Float32x4.mul(e,l),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),u=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(u,u),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(u,u))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,i)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,c)),t):null},n.invert=r.USE_SIMD?n.SIMD.invert:n.scalar.invert,n.scalar.adjoint=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],u=a[4],l=a[5],i=a[6],s=a[7],c=a[8],f=a[9],h=a[10],M=a[11],m=a[12],d=a[13],x=a[14],S=a[15];return t[0]=l*(h*S-M*x)-f*(i*S-s*x)+d*(i*M-s*h),t[1]=-(r*(h*S-M*x)-f*(n*S-o*x)+d*(n*M-o*h)),t[2]=r*(i*S-s*x)-l*(n*S-o*x)+d*(n*s-o*i),t[3]=-(r*(i*M-s*h)-l*(n*M-o*h)+f*(n*s-o*i)),t[4]=-(u*(h*S-M*x)-c*(i*S-s*x)+m*(i*M-s*h)),t[5]=e*(h*S-M*x)-c*(n*S-o*x)+m*(n*M-o*h),t[6]=-(e*(i*S-s*x)-u*(n*S-o*x)+m*(n*s-o*i)),t[7]=e*(i*M-s*h)-u*(n*M-o*h)+c*(n*s-o*i),t[8]=u*(f*S-M*d)-c*(l*S-s*d)+m*(l*M-s*f),t[9]=-(e*(f*S-M*d)-c*(r*S-o*d)+m*(r*M-o*f)),t[10]=e*(l*S-s*d)-u*(r*S-o*d)+m*(r*s-o*l),t[11]=-(e*(l*M-s*f)-u*(r*M-o*f)+c*(r*s-o*l)),t[12]=-(u*(f*x-h*d)-c*(l*x-i*d)+m*(l*h-i*f)),t[13]=e*(f*x-h*d)-c*(r*x-n*d)+m*(r*h-n*f),t[14]=-(e*(l*x-i*d)-u*(r*x-n*d)+m*(r*i-n*l)),t[15]=e*(l*h-i*f)-u*(r*h-n*f)+c*(r*i-n*l),t},n.SIMD.adjoint=function(t,a){var e,r,n,o,u,l,i,s,c,f,h,M,m,e=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),n=SIMD.Float32x4.load(a,8),o=SIMD.Float32x4.load(a,12);return c=SIMD.Float32x4.shuffle(e,r,0,1,4,5),l=SIMD.Float32x4.shuffle(n,o,0,1,4,5),u=SIMD.Float32x4.shuffle(c,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,c,1,3,5,7),c=SIMD.Float32x4.shuffle(e,r,2,3,6,7),s=SIMD.Float32x4.shuffle(n,o,2,3,6,7),i=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.mul(i,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(l,c),h=SIMD.Float32x4.mul(u,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),f),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(l,i),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),f),m=SIMD.Float32x4.mul(u,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,c)),m=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),m),m=SIMD.Float32x4.swizzle(m,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,3,0,1),s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),i=SIMD.Float32x4.swizzle(i,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,c),f),M=SIMD.Float32x4.mul(u,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(i,c)),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.mul(u,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),M),m=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),m),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),M),m=SIMD.Float32x4.sub(m,SIMD.Float32x4.mul(i,c)),c=SIMD.Float32x4.mul(u,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(i,c)),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),M),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,c),h),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.mul(u,i),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),h),m=SIMD.Float32x4.sub(m,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,c)),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),m),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,M),SIMD.Float32x4.store(t,12,m),t},n.adjoint=r.USE_SIMD?n.SIMD.adjoint:n.scalar.adjoint,n.determinant=function(t){var a=t[0],e=t[1],r=t[2],n=t[3],o=t[4],u=t[5],l=t[6],i=t[7],s=t[8],c=t[9],f=t[10],h=t[11],M=t[12],m=t[13],d=t[14],x=t[15],S=a*u-e*o,I=a*l-r*o,v=a*i-n*o,D=e*l-r*u,b=e*i-n*u,F=r*i-n*l,p=s*m-c*M,w=s*d-f*M,y=s*x-h*M,g=c*d-f*m,E=c*x-h*m,_=f*x-h*d;return S*_-I*E+v*g+D*y-b*w+F*p},n.SIMD.multiply=function(t,a,e){var r=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),u=SIMD.Float32x4.load(a,12),l=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,3,3,3,3),u))));SIMD.Float32x4.store(t,0,i);var s=SIMD.Float32x4.load(e,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),u))));SIMD.Float32x4.store(t,4,c);var f=SIMD.Float32x4.load(e,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),u))));SIMD.Float32x4.store(t,8,h);var M=SIMD.Float32x4.load(e,12),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,3,3,3,3),u))));return SIMD.Float32x4.store(t,12,m),t},n.scalar.multiply=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=a[4],i=a[5],s=a[6],c=a[7],f=a[8],h=a[9],M=a[10],m=a[11],d=a[12],x=a[13],S=a[14],I=a[15],v=e[0],D=e[1],b=e[2],F=e[3];return t[0]=v*r+D*l+b*f+F*d,t[1]=v*n+D*i+b*h+F*x,t[2]=v*o+D*s+b*M+F*S,t[3]=v*u+D*c+b*m+F*I,v=e[4],D=e[5],b=e[6],F=e[7],t[4]=v*r+D*l+b*f+F*d,t[5]=v*n+D*i+b*h+F*x,t[6]=v*o+D*s+b*M+F*S,t[7]=v*u+D*c+b*m+F*I,v=e[8],D=e[9],b=e[10],F=e[11],t[8]=v*r+D*l+b*f+F*d,t[9]=v*n+D*i+b*h+F*x,t[10]=v*o+D*s+b*M+F*S,t[11]=v*u+D*c+b*m+F*I,v=e[12],D=e[13],b=e[14],F=e[15],t[12]=v*r+D*l+b*f+F*d,t[13]=v*n+D*i+b*h+F*x,t[14]=v*o+D*s+b*M+F*S,t[15]=v*u+D*c+b*m+F*I,t},n.multiply=r.USE_SIMD?n.SIMD.multiply:n.scalar.multiply,n.mul=n.multiply,n.scalar.translate=function(t,a,e){var r,n,o,u,l,i,s,c,f,h,M,m,d=e[0],x=e[1],S=e[2];return a===t?(t[12]=a[0]*d+a[4]*x+a[8]*S+a[12],t[13]=a[1]*d+a[5]*x+a[9]*S+a[13],t[14]=a[2]*d+a[6]*x+a[10]*S+a[14],t[15]=a[3]*d+a[7]*x+a[11]*S+a[15]):(r=a[0],n=a[1],o=a[2],u=a[3],l=a[4],i=a[5],s=a[6],c=a[7],f=a[8],h=a[9],M=a[10],m=a[11],t[0]=r,t[1]=n,t[2]=o,t[3]=u,t[4]=l,t[5]=i,t[6]=s,t[7]=c,t[8]=f,t[9]=h,t[10]=M,t[11]=m,t[12]=r*d+l*x+f*S+a[12],t[13]=n*d+i*x+h*S+a[13],t[14]=o*d+s*x+M*S+a[14],t[15]=u*d+c*x+m*S+a[15]),t},n.SIMD.translate=function(t,a,e){var r=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),u=SIMD.Float32x4.load(a,12),l=SIMD.Float32x4(e[0],e[1],e[2],0);a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(l,0,0,0,0)),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(l,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(l,2,2,2,2));var i=SIMD.Float32x4.add(r,SIMD.Float32x4.add(n,SIMD.Float32x4.add(o,u)));return SIMD.Float32x4.store(t,12,i),t},n.translate=r.USE_SIMD?n.SIMD.translate:n.scalar.translate,n.scalar.scale=function(t,a,e){var r=e[0],n=e[1],o=e[2];return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},n.SIMD.scale=function(t,a,e){var r,n,o,u=SIMD.Float32x4(e[0],e[1],e[2],0);return r=SIMD.Float32x4.load(a,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(u,0,0,0,0))),n=SIMD.Float32x4.load(a,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(u,1,1,1,1))),o=SIMD.Float32x4.load(a,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(u,2,2,2,2))),t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},n.scale=r.USE_SIMD?n.SIMD.scale:n.scalar.scale,n.rotate=function(t,a,e,n){var o,u,l,i,s,c,f,h,M,m,d,x,S,I,v,D,b,F,p,w,y,g,E,_,P=n[0],A=n[1],z=n[2],O=Math.sqrt(P*P+A*A+z*z);return Math.abs(O)<r.EPSILON?null:(O=1/O,P*=O,A*=O,z*=O,o=Math.sin(e),u=Math.cos(e),l=1-u,i=a[0],s=a[1],c=a[2],f=a[3],h=a[4],M=a[5],m=a[6],d=a[7],x=a[8],S=a[9],I=a[10],v=a[11],D=P*P*l+u,b=A*P*l+z*o,F=z*P*l-A*o,p=P*A*l-z*o,w=A*A*l+u,y=z*A*l+P*o,g=P*z*l+A*o,E=A*z*l-P*o,_=z*z*l+u,t[0]=i*D+h*b+x*F,t[1]=s*D+M*b+S*F,t[2]=c*D+m*b+I*F,t[3]=f*D+d*b+v*F,t[4]=i*p+h*w+x*y,t[5]=s*p+M*w+S*y,t[6]=c*p+m*w+I*y,t[7]=f*p+d*w+v*y,t[8]=i*g+h*E+x*_,t[9]=s*g+M*E+S*_,t[10]=c*g+m*E+I*_,t[11]=f*g+d*E+v*_,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)},n.scalar.rotateX=function(t,a,e){var r=Math.sin(e),n=Math.cos(e),o=a[4],u=a[5],l=a[6],i=a[7],s=a[8],c=a[9],f=a[10],h=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=o*n+s*r,t[5]=u*n+c*r,t[6]=l*n+f*r,t[7]=i*n+h*r,t[8]=s*n-o*r,t[9]=c*n-u*r,t[10]=f*n-l*r,t[11]=h*n-i*r,t},n.SIMD.rotateX=function(t,a,e){var r=SIMD.Float32x4.splat(Math.sin(e)),n=SIMD.Float32x4.splat(Math.cos(e));a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,4),u=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(u,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,n),SIMD.Float32x4.mul(o,r))),t},n.rotateX=r.USE_SIMD?n.SIMD.rotateX:n.scalar.rotateX,n.scalar.rotateY=function(t,a,e){var r=Math.sin(e),n=Math.cos(e),o=a[0],u=a[1],l=a[2],i=a[3],s=a[8],c=a[9],f=a[10],h=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*n-s*r,t[1]=u*n-c*r,t[2]=l*n-f*r,t[3]=i*n-h*r,t[8]=o*r+s*n,t[9]=u*r+c*n,t[10]=l*r+f*n,t[11]=i*r+h*n,t},n.SIMD.rotateY=function(t,a,e){var r=SIMD.Float32x4.splat(Math.sin(e)),n=SIMD.Float32x4.splat(Math.cos(e));a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,0),u=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(u,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(u,n))),t},n.rotateY=r.USE_SIMD?n.SIMD.rotateY:n.scalar.rotateY,n.scalar.rotateZ=function(t,a,e){var r=Math.sin(e),n=Math.cos(e),o=a[0],u=a[1],l=a[2],i=a[3],s=a[4],c=a[5],f=a[6],h=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*n+s*r,t[1]=u*n+c*r,t[2]=l*n+f*r,t[3]=i*n+h*r,t[4]=s*n-o*r,t[5]=c*n-u*r,t[6]=f*n-l*r,t[7]=h*n-i*r,t},n.SIMD.rotateZ=function(t,a,e){var r=SIMD.Float32x4.splat(Math.sin(e)),n=SIMD.Float32x4.splat(Math.cos(e));a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,0),u=SIMD.Float32x4.load(a,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(u,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,n),SIMD.Float32x4.mul(o,r))),t},n.rotateZ=r.USE_SIMD?n.SIMD.rotateZ:n.scalar.rotateZ,n.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},n.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotation=function(t,a,e){var n,o,u,l=e[0],i=e[1],s=e[2],c=Math.sqrt(l*l+i*i+s*s);return Math.abs(c)<r.EPSILON?null:(c=1/c,l*=c,i*=c,s*=c,n=Math.sin(a),o=Math.cos(a),u=1-o,t[0]=l*l*u+o,t[1]=i*l*u+s*n,t[2]=s*l*u-i*n,t[3]=0,t[4]=l*i*u-s*n,t[5]=i*i*u+o,t[6]=s*i*u+l*n,t[7]=0,t[8]=l*s*u+i*n,t[9]=i*s*u-l*n,t[10]=s*s*u+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},n.fromXRotation=function(t,a){var e=Math.sin(a),r=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromYRotation=function(t,a){var e=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromZRotation=function(t,a){var e=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotationTranslation=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=r+r,i=n+n,s=o+o,c=r*l,f=r*i,h=r*s,M=n*i,m=n*s,d=o*s,x=u*l,S=u*i,I=u*s;return t[0]=1-(M+d),t[1]=f+I,t[2]=h-S,t[3]=0,t[4]=f-I,t[5]=1-(c+d),t[6]=m+x,t[7]=0,t[8]=h+S,t[9]=m-x,t[10]=1-(c+M),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},n.getTranslation=function(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t},n.getRotation=function(t,a){var e=a[0]+a[5]+a[10],r=0;return e>0?(r=2*Math.sqrt(e+1),t[3]=.25*r,t[0]=(a[6]-a[9])/r,t[1]=(a[8]-a[2])/r,t[2]=(a[1]-a[4])/r):a[0]>a[5]&a[0]>a[10]?(r=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/r,t[0]=.25*r,t[1]=(a[1]+a[4])/r,t[2]=(a[8]+a[2])/r):a[5]>a[10]?(r=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/r,t[0]=(a[1]+a[4])/r,t[1]=.25*r,t[2]=(a[6]+a[9])/r):(r=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/r,t[0]=(a[8]+a[2])/r,t[1]=(a[6]+a[9])/r,t[2]=.25*r),t},n.fromRotationTranslationScale=function(t,a,e,r){var n=a[0],o=a[1],u=a[2],l=a[3],i=n+n,s=o+o,c=u+u,f=n*i,h=n*s,M=n*c,m=o*s,d=o*c,x=u*c,S=l*i,I=l*s,v=l*c,D=r[0],b=r[1],F=r[2];return t[0]=(1-(m+x))*D,t[1]=(h+v)*D,t[2]=(M-I)*D,t[3]=0,t[4]=(h-v)*b,t[5]=(1-(f+x))*b,t[6]=(d+S)*b,t[7]=0,t[8]=(M+I)*F,t[9]=(d-S)*F,t[10]=(1-(f+m))*F,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},n.fromRotationTranslationScaleOrigin=function(t,a,e,r,n){var o=a[0],u=a[1],l=a[2],i=a[3],s=o+o,c=u+u,f=l+l,h=o*s,M=o*c,m=o*f,d=u*c,x=u*f,S=l*f,I=i*s,v=i*c,D=i*f,b=r[0],F=r[1],p=r[2],w=n[0],y=n[1],g=n[2];return t[0]=(1-(d+S))*b,t[1]=(M+D)*b,t[2]=(m-v)*b,t[3]=0,t[4]=(M-D)*F,t[5]=(1-(h+S))*F,t[6]=(x+I)*F,t[7]=0,t[8]=(m+v)*p,t[9]=(x-I)*p,t[10]=(1-(h+d))*p,t[11]=0,t[12]=e[0]+w-(t[0]*w+t[4]*y+t[8]*g),t[13]=e[1]+y-(t[1]*w+t[5]*y+t[9]*g),t[14]=e[2]+g-(t[2]*w+t[6]*y+t[10]*g),t[15]=1,t},n.fromQuat=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],u=e+e,l=r+r,i=n+n,s=e*u,c=r*u,f=r*l,h=n*u,M=n*l,m=n*i,d=o*u,x=o*l,S=o*i;return t[0]=1-f-m,t[1]=c+S,t[2]=h-x,t[3]=0,t[4]=c-S,t[5]=1-s-m,t[6]=M+d,t[7]=0,t[8]=h+x,t[9]=M-d,t[10]=1-s-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.frustum=function(t,a,e,r,n,o,u){var l=1/(e-a),i=1/(n-r),s=1/(o-u);return t[0]=2*o*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*i,t[6]=0,t[7]=0,t[8]=(e+a)*l,t[9]=(n+r)*i,t[10]=(u+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*o*2*s,t[15]=0,t},n.perspective=function(t,a,e,r,n){var o=1/Math.tan(a/2),u=1/(r-n);return t[0]=o/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+r)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*r*u,t[15]=0,t},n.perspectiveFromFieldOfView=function(t,a,e,r){var n=Math.tan(a.upDegrees*Math.PI/180),o=Math.tan(a.downDegrees*Math.PI/180),u=Math.tan(a.leftDegrees*Math.PI/180),l=Math.tan(a.rightDegrees*Math.PI/180),i=2/(u+l),s=2/(n+o);return t[0]=i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((u-l)*i*.5),t[9]=(n-o)*s*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t},n.ortho=function(t,a,e,r,n,o,u){var l=1/(a-e),i=1/(r-n),s=1/(o-u);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(a+e)*l,t[13]=(n+r)*i,t[14]=(u+o)*s,t[15]=1,t},n.lookAt=function(t,a,e,o){var u,l,i,s,c,f,h,M,m,d,x=a[0],S=a[1],I=a[2],v=o[0],D=o[1],b=o[2],F=e[0],p=e[1],w=e[2];return Math.abs(x-F)<r.EPSILON&&Math.abs(S-p)<r.EPSILON&&Math.abs(I-w)<r.EPSILON?n.identity(t):(h=x-F,M=S-p,m=I-w,d=1/Math.sqrt(h*h+M*M+m*m),h*=d,M*=d,m*=d,u=D*m-b*M,l=b*h-v*m,i=v*M-D*h,d=Math.sqrt(u*u+l*l+i*i),d?(d=1/d,u*=d,l*=d,i*=d):(u=0,l=0,i=0),s=M*i-m*l,c=m*u-h*i,f=h*l-M*u,d=Math.sqrt(s*s+c*c+f*f),d?(d=1/d,s*=d,c*=d,f*=d):(s=0,c=0,f=0),t[0]=u,t[1]=s,t[2]=h,t[3]=0,t[4]=l,t[5]=c,t[6]=M,t[7]=0,t[8]=i,t[9]=f,t[10]=m,t[11]=0,t[12]=-(u*x+l*S+i*I),t[13]=-(s*x+c*S+f*I),t[14]=-(h*x+M*S+m*I),t[15]=1,t)},n.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},n.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t[3]=a[3]+e[3],t[4]=a[4]+e[4],t[5]=a[5]+e[5],t[6]=a[6]+e[6],t[7]=a[7]+e[7],t[8]=a[8]+e[8],t[9]=a[9]+e[9],t[10]=a[10]+e[10],t[11]=a[11]+e[11],t[12]=a[12]+e[12],t[13]=a[13]+e[13],t[14]=a[14]+e[14],t[15]=a[15]+e[15],t},n.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t[3]=a[3]-e[3],t[4]=a[4]-e[4],t[5]=a[5]-e[5],t[6]=a[6]-e[6],t[7]=a[7]-e[7],t[8]=a[8]-e[8],t[9]=a[9]-e[9],t[10]=a[10]-e[10],t[11]=a[11]-e[11],t[12]=a[12]-e[12],t[13]=a[13]-e[13],t[14]=a[14]-e[14],t[15]=a[15]-e[15],t},n.sub=n.subtract,n.multiplyScalar=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*e,t[9]=a[9]*e,t[10]=a[10]*e,t[11]=a[11]*e,t[12]=a[12]*e,t[13]=a[13]*e,t[14]=a[14]*e,t[15]=a[15]*e,t},n.multiplyScalarAndAdd=function(t,a,e,r){return t[0]=a[0]+e[0]*r,t[1]=a[1]+e[1]*r,t[2]=a[2]+e[2]*r,t[3]=a[3]+e[3]*r,t[4]=a[4]+e[4]*r,t[5]=a[5]+e[5]*r,t[6]=a[6]+e[6]*r,t[7]=a[7]+e[7]*r,t[8]=a[8]+e[8]*r,t[9]=a[9]+e[9]*r,t[10]=a[10]+e[10]*r,t[11]=a[11]+e[11]*r,t[12]=a[12]+e[12]*r,t[13]=a[13]+e[13]*r,t[14]=a[14]+e[14]*r,t[15]=a[15]+e[15]*r,t},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]},n.equals=function(t,a){var e=t[0],n=t[1],o=t[2],u=t[3],l=t[4],i=t[5],s=t[6],c=t[7],f=t[8],h=t[9],M=t[10],m=t[11],d=t[12],x=t[13],S=t[14],I=t[15],v=a[0],D=a[1],b=a[2],F=a[3],p=a[4],w=a[5],y=a[6],g=a[7],E=a[8],_=a[9],P=a[10],A=a[11],z=a[12],O=a[13],R=a[14],j=a[15];return Math.abs(e-v)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(v))&&Math.abs(n-D)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(D))&&Math.abs(o-b)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(u-F)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(F))&&Math.abs(l-p)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))&&Math.abs(i-w)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(s-y)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-g)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-E)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(h-_)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(_))&&Math.abs(M-P)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(P))&&Math.abs(m-A)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(d-z)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(z))&&Math.abs(x-O)<=r.EPSILON*Math.max(1,Math.abs(x),Math.abs(O))&&Math.abs(S-R)<=r.EPSILON*Math.max(1,Math.abs(S),Math.abs(R))&&Math.abs(I-j)<=r.EPSILON*Math.max(1,Math.abs(I),Math.abs(j))},a.exports=n},{"./common.js":15}],20:[function(t,a,e){var r=t("./common.js"),n=t("./mat3.js"),o=t("./vec3.js"),u=t("./vec4.js"),l={};l.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},l.rotationTo=function(){var t=o.create(),a=o.fromValues(1,0,0),e=o.fromValues(0,1,0);return function(r,n,u){var i=o.dot(n,u);return-.999999>i?(o.cross(t,a,n),o.length(t)<1e-6&&o.cross(t,e,n),o.normalize(t,t),l.setAxisAngle(r,t,Math.PI),r):i>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,n,u),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+i,l.normalize(r,r))}}(),l.setAxes=function(){var t=n.create();return function(a,e,r,n){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],l.normalize(a,l.fromMat3(a,t))}}(),l.clone=u.clone,l.fromValues=u.fromValues,l.copy=u.copy,l.set=u.set,l.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},l.setAxisAngle=function(t,a,e){e=.5*e;var r=Math.sin(e);return t[0]=r*a[0],t[1]=r*a[1],t[2]=r*a[2],t[3]=Math.cos(e),t},l.getAxisAngle=function(t,a){var e=2*Math.acos(a[3]),r=Math.sin(e/2);return 0!=r?(t[0]=a[0]/r,t[1]=a[1]/r,t[2]=a[2]/r):(t[0]=1,t[1]=0,t[2]=0),e},l.add=u.add,l.multiply=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3],l=e[0],i=e[1],s=e[2],c=e[3];return t[0]=r*c+u*l+n*s-o*i,t[1]=n*c+u*i+o*l-r*s,t[2]=o*c+u*s+r*i-n*l,t[3]=u*c-r*l-n*i-o*s,t},l.mul=l.multiply,l.scale=u.scale,l.rotateX=function(t,a,e){e*=.5;var r=a[0],n=a[1],o=a[2],u=a[3],l=Math.sin(e),i=Math.cos(e);return t[0]=r*i+u*l,t[1]=n*i+o*l,t[2]=o*i-n*l,t[3]=u*i-r*l,t},l.rotateY=function(t,a,e){e*=.5;var r=a[0],n=a[1],o=a[2],u=a[3],l=Math.sin(e),i=Math.cos(e);return t[0]=r*i-o*l,t[1]=n*i+u*l,t[2]=o*i+r*l,t[3]=u*i-n*l,t},l.rotateZ=function(t,a,e){e*=.5;var r=a[0],n=a[1],o=a[2],u=a[3],l=Math.sin(e),i=Math.cos(e);return t[0]=r*i+n*l,t[1]=n*i-r*l,t[2]=o*i+u*l,t[3]=u*i-o*l,t},l.calculateW=function(t,a){var e=a[0],r=a[1],n=a[2];return t[0]=e,t[1]=r,t[2]=n,t[3]=Math.sqrt(Math.abs(1-e*e-r*r-n*n)),t},l.dot=u.dot,l.lerp=u.lerp,l.slerp=function(t,a,e,r){var n,o,u,l,i,s=a[0],c=a[1],f=a[2],h=a[3],M=e[0],m=e[1],d=e[2],x=e[3];return o=s*M+c*m+f*d+h*x,0>o&&(o=-o,M=-M,m=-m,d=-d,x=-x),1-o>1e-6?(n=Math.acos(o),u=Math.sin(n),l=Math.sin((1-r)*n)/u,i=Math.sin(r*n)/u):(l=1-r,i=r),t[0]=l*s+i*M,t[1]=l*c+i*m,t[2]=l*f+i*d,t[3]=l*h+i*x,t},l.sqlerp=function(){var t=l.create(),a=l.create();return function(e,r,n,o,u,i){return l.slerp(t,r,u,i),l.slerp(a,n,o,i),l.slerp(e,t,a,2*i*(1-i)),e}}(),l.invert=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],u=e*e+r*r+n*n+o*o,l=u?1/u:0;return t[0]=-e*l,t[1]=-r*l,t[2]=-n*l,t[3]=o*l,t},l.conjugate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=a[3],t},l.length=u.length,l.len=l.length,l.squaredLength=u.squaredLength,l.sqrLen=l.squaredLength,l.normalize=u.normalize,l.fromMat3=function(t,a){var e,r=a[0]+a[4]+a[8];if(r>0)e=Math.sqrt(r+1),t[3]=.5*e,e=.5/e,t[0]=(a[5]-a[7])*e,t[1]=(a[6]-a[2])*e,t[2]=(a[1]-a[3])*e;else{var n=0;a[4]>a[0]&&(n=1),a[8]>a[3*n+n]&&(n=2);var o=(n+1)%3,u=(n+2)%3;e=Math.sqrt(a[3*n+n]-a[3*o+o]-a[3*u+u]+1),t[n]=.5*e,e=.5/e,t[3]=(a[3*o+u]-a[3*u+o])*e,t[o]=(a[3*o+n]+a[3*n+o])*e,t[u]=(a[3*u+n]+a[3*n+u])*e}return t},l.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},l.exactEquals=u.exactEquals,l.equals=u.equals,a.exports=l},{"./common.js":15,"./mat3.js":18,"./vec3.js":22,"./vec4.js":23}],21:[function(t,a,e){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},n.clone=function(t){var a=new r.ARRAY_TYPE(2);return a[0]=t[0],a[1]=t[1],a},n.fromValues=function(t,a){var e=new r.ARRAY_TYPE(2);return e[0]=t,e[1]=a,e},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t},n.set=function(t,a,e){return t[0]=a,t[1]=e,t},n.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t},n.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t},n.sub=n.subtract,n.multiply=function(t,a,e){return t[0]=a[0]*e[0],t[1]=a[1]*e[1],t},n.mul=n.multiply,n.divide=function(t,a,e){return t[0]=a[0]/e[0],t[1]=a[1]/e[1],t},n.div=n.divide,n.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t},n.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t},n.min=function(t,a,e){return t[0]=Math.min(a[0],e[0]),t[1]=Math.min(a[1],e[1]),t},n.max=function(t,a,e){return t[0]=Math.max(a[0],e[0]),t[1]=Math.max(a[1],e[1]),t},n.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t},n.scale=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t},n.scaleAndAdd=function(t,a,e,r){return t[0]=a[0]+e[0]*r,t[1]=a[1]+e[1]*r,t},n.distance=function(t,a){var e=a[0]-t[0],r=a[1]-t[1];return Math.sqrt(e*e+r*r)},n.dist=n.distance,n.squaredDistance=function(t,a){var e=a[0]-t[0],r=a[1]-t[1];return e*e+r*r},n.sqrDist=n.squaredDistance,n.length=function(t){var a=t[0],e=t[1];return Math.sqrt(a*a+e*e)},n.len=n.length,n.squaredLength=function(t){var a=t[0],e=t[1];return a*a+e*e},n.sqrLen=n.squaredLength,n.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t},n.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t},n.normalize=function(t,a){var e=a[0],r=a[1],n=e*e+r*r;return n>0&&(n=1/Math.sqrt(n),t[0]=a[0]*n,t[1]=a[1]*n),t},n.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]},n.cross=function(t,a,e){var r=a[0]*e[1]-a[1]*e[0];return t[0]=t[1]=0,t[2]=r,t},n.lerp=function(t,a,e,r){var n=a[0],o=a[1];return t[0]=n+r*(e[0]-n),t[1]=o+r*(e[1]-o),t},n.random=function(t,a){a=a||1;var e=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(e)*a,t[1]=Math.sin(e)*a,t},n.transformMat2=function(t,a,e){var r=a[0],n=a[1];return t[0]=e[0]*r+e[2]*n,t[1]=e[1]*r+e[3]*n,t},n.transformMat2d=function(t,a,e){var r=a[0],n=a[1];return t[0]=e[0]*r+e[2]*n+e[4],t[1]=e[1]*r+e[3]*n+e[5],t},n.transformMat3=function(t,a,e){var r=a[0],n=a[1];return t[0]=e[0]*r+e[3]*n+e[6],t[1]=e[1]*r+e[4]*n+e[7],t},n.transformMat4=function(t,a,e){var r=a[0],n=a[1];return t[0]=e[0]*r+e[4]*n+e[12],t[1]=e[1]*r+e[5]*n+e[13],t},n.forEach=function(){var t=n.create();return function(a,e,r,n,o,u){var l,i;for(e||(e=2),r||(r=0),i=n?Math.min(n*e+r,a.length):a.length,l=r;i>l;l+=e)t[0]=a[l],t[1]=a[l+1],o(t,t,u),a[l]=t[0],a[l+1]=t[1];return a}}(),n.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]},n.equals=function(t,a){var e=t[0],n=t[1],o=a[0],u=a[1];return Math.abs(e-o)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))},a.exports=n},{"./common.js":15}],22:[function(t,a,e){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},n.clone=function(t){var a=new r.ARRAY_TYPE(3);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a},n.fromValues=function(t,a,e){var n=new r.ARRAY_TYPE(3);return n[0]=t,n[1]=a,n[2]=e,n},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t},n.set=function(t,a,e,r){return t[0]=a,t[1]=e,t[2]=r,t},n.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t},n.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t},n.sub=n.subtract,n.multiply=function(t,a,e){return t[0]=a[0]*e[0],t[1]=a[1]*e[1],t[2]=a[2]*e[2],t},n.mul=n.multiply,n.divide=function(t,a,e){return t[0]=a[0]/e[0],t[1]=a[1]/e[1],t[2]=a[2]/e[2],
t},n.div=n.divide,n.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t},n.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t},n.min=function(t,a,e){return t[0]=Math.min(a[0],e[0]),t[1]=Math.min(a[1],e[1]),t[2]=Math.min(a[2],e[2]),t},n.max=function(t,a,e){return t[0]=Math.max(a[0],e[0]),t[1]=Math.max(a[1],e[1]),t[2]=Math.max(a[2],e[2]),t},n.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t},n.scale=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t},n.scaleAndAdd=function(t,a,e,r){return t[0]=a[0]+e[0]*r,t[1]=a[1]+e[1]*r,t[2]=a[2]+e[2]*r,t},n.distance=function(t,a){var e=a[0]-t[0],r=a[1]-t[1],n=a[2]-t[2];return Math.sqrt(e*e+r*r+n*n)},n.dist=n.distance,n.squaredDistance=function(t,a){var e=a[0]-t[0],r=a[1]-t[1],n=a[2]-t[2];return e*e+r*r+n*n},n.sqrDist=n.squaredDistance,n.length=function(t){var a=t[0],e=t[1],r=t[2];return Math.sqrt(a*a+e*e+r*r)},n.len=n.length,n.squaredLength=function(t){var a=t[0],e=t[1],r=t[2];return a*a+e*e+r*r},n.sqrLen=n.squaredLength,n.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t},n.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t},n.normalize=function(t,a){var e=a[0],r=a[1],n=a[2],o=e*e+r*r+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o),t},n.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]},n.cross=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=e[0],l=e[1],i=e[2];return t[0]=n*i-o*l,t[1]=o*u-r*i,t[2]=r*l-n*u,t},n.lerp=function(t,a,e,r){var n=a[0],o=a[1],u=a[2];return t[0]=n+r*(e[0]-n),t[1]=o+r*(e[1]-o),t[2]=u+r*(e[2]-u),t},n.hermite=function(t,a,e,r,n,o){var u=o*o,l=u*(2*o-3)+1,i=u*(o-2)+o,s=u*(o-1),c=u*(3-2*o);return t[0]=a[0]*l+e[0]*i+r[0]*s+n[0]*c,t[1]=a[1]*l+e[1]*i+r[1]*s+n[1]*c,t[2]=a[2]*l+e[2]*i+r[2]*s+n[2]*c,t},n.bezier=function(t,a,e,r,n,o){var u=1-o,l=u*u,i=o*o,s=l*u,c=3*o*l,f=3*i*u,h=i*o;return t[0]=a[0]*s+e[0]*c+r[0]*f+n[0]*h,t[1]=a[1]*s+e[1]*c+r[1]*f+n[1]*h,t[2]=a[2]*s+e[2]*c+r[2]*f+n[2]*h,t},n.random=function(t,a){a=a||1;var e=2*r.RANDOM()*Math.PI,n=2*r.RANDOM()-1,o=Math.sqrt(1-n*n)*a;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=n*a,t},n.transformMat4=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=e[3]*r+e[7]*n+e[11]*o+e[15];return u=u||1,t[0]=(e[0]*r+e[4]*n+e[8]*o+e[12])/u,t[1]=(e[1]*r+e[5]*n+e[9]*o+e[13])/u,t[2]=(e[2]*r+e[6]*n+e[10]*o+e[14])/u,t},n.transformMat3=function(t,a,e){var r=a[0],n=a[1],o=a[2];return t[0]=r*e[0]+n*e[3]+o*e[6],t[1]=r*e[1]+n*e[4]+o*e[7],t[2]=r*e[2]+n*e[5]+o*e[8],t},n.transformQuat=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=e[0],l=e[1],i=e[2],s=e[3],c=s*r+l*o-i*n,f=s*n+i*r-u*o,h=s*o+u*n-l*r,M=-u*r-l*n-i*o;return t[0]=c*s+M*-u+f*-i-h*-l,t[1]=f*s+M*-l+h*-u-c*-i,t[2]=h*s+M*-i+c*-l-f*-u,t},n.rotateX=function(t,a,e,r){var n=[],o=[];return n[0]=a[0]-e[0],n[1]=a[1]-e[1],n[2]=a[2]-e[2],o[0]=n[0],o[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),o[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},n.rotateY=function(t,a,e,r){var n=[],o=[];return n[0]=a[0]-e[0],n[1]=a[1]-e[1],n[2]=a[2]-e[2],o[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),o[1]=n[1],o[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},n.rotateZ=function(t,a,e,r){var n=[],o=[];return n[0]=a[0]-e[0],n[1]=a[1]-e[1],n[2]=a[2]-e[2],o[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),o[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),o[2]=n[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},n.forEach=function(){var t=n.create();return function(a,e,r,n,o,u){var l,i;for(e||(e=3),r||(r=0),i=n?Math.min(n*e+r,a.length):a.length,l=r;i>l;l+=e)t[0]=a[l],t[1]=a[l+1],t[2]=a[l+2],o(t,t,u),a[l]=t[0],a[l+1]=t[1],a[l+2]=t[2];return a}}(),n.angle=function(t,a){var e=n.fromValues(t[0],t[1],t[2]),r=n.fromValues(a[0],a[1],a[2]);n.normalize(e,e),n.normalize(r,r);var o=n.dot(e,r);return o>1?0:Math.acos(o)},n.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]},n.equals=function(t,a){var e=t[0],n=t[1],o=t[2],u=a[0],l=a[1],i=a[2];return Math.abs(e-u)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-i)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))},a.exports=n},{"./common.js":15}],23:[function(t,a,e){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},n.clone=function(t){var a=new r.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},n.fromValues=function(t,a,e,n){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=a,o[2]=e,o[3]=n,o},n.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},n.set=function(t,a,e,r,n){return t[0]=a,t[1]=e,t[2]=r,t[3]=n,t},n.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t[3]=a[3]+e[3],t},n.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t[3]=a[3]-e[3],t},n.sub=n.subtract,n.multiply=function(t,a,e){return t[0]=a[0]*e[0],t[1]=a[1]*e[1],t[2]=a[2]*e[2],t[3]=a[3]*e[3],t},n.mul=n.multiply,n.divide=function(t,a,e){return t[0]=a[0]/e[0],t[1]=a[1]/e[1],t[2]=a[2]/e[2],t[3]=a[3]/e[3],t},n.div=n.divide,n.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t[3]=Math.ceil(a[3]),t},n.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t[3]=Math.floor(a[3]),t},n.min=function(t,a,e){return t[0]=Math.min(a[0],e[0]),t[1]=Math.min(a[1],e[1]),t[2]=Math.min(a[2],e[2]),t[3]=Math.min(a[3],e[3]),t},n.max=function(t,a,e){return t[0]=Math.max(a[0],e[0]),t[1]=Math.max(a[1],e[1]),t[2]=Math.max(a[2],e[2]),t[3]=Math.max(a[3],e[3]),t},n.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t[3]=Math.round(a[3]),t},n.scale=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t},n.scaleAndAdd=function(t,a,e,r){return t[0]=a[0]+e[0]*r,t[1]=a[1]+e[1]*r,t[2]=a[2]+e[2]*r,t[3]=a[3]+e[3]*r,t},n.distance=function(t,a){var e=a[0]-t[0],r=a[1]-t[1],n=a[2]-t[2],o=a[3]-t[3];return Math.sqrt(e*e+r*r+n*n+o*o)},n.dist=n.distance,n.squaredDistance=function(t,a){var e=a[0]-t[0],r=a[1]-t[1],n=a[2]-t[2],o=a[3]-t[3];return e*e+r*r+n*n+o*o},n.sqrDist=n.squaredDistance,n.length=function(t){var a=t[0],e=t[1],r=t[2],n=t[3];return Math.sqrt(a*a+e*e+r*r+n*n)},n.len=n.length,n.squaredLength=function(t){var a=t[0],e=t[1],r=t[2],n=t[3];return a*a+e*e+r*r+n*n},n.sqrLen=n.squaredLength,n.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=-a[3],t},n.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t[3]=1/a[3],t},n.normalize=function(t,a){var e=a[0],r=a[1],n=a[2],o=a[3],u=e*e+r*r+n*n+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=e*u,t[1]=r*u,t[2]=n*u,t[3]=o*u),t},n.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]+t[3]*a[3]},n.lerp=function(t,a,e,r){var n=a[0],o=a[1],u=a[2],l=a[3];return t[0]=n+r*(e[0]-n),t[1]=o+r*(e[1]-o),t[2]=u+r*(e[2]-u),t[3]=l+r*(e[3]-l),t},n.random=function(t,a){return a=a||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),n.normalize(t,t),n.scale(t,t,a),t},n.transformMat4=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=a[3];return t[0]=e[0]*r+e[4]*n+e[8]*o+e[12]*u,t[1]=e[1]*r+e[5]*n+e[9]*o+e[13]*u,t[2]=e[2]*r+e[6]*n+e[10]*o+e[14]*u,t[3]=e[3]*r+e[7]*n+e[11]*o+e[15]*u,t},n.transformQuat=function(t,a,e){var r=a[0],n=a[1],o=a[2],u=e[0],l=e[1],i=e[2],s=e[3],c=s*r+l*o-i*n,f=s*n+i*r-u*o,h=s*o+u*n-l*r,M=-u*r-l*n-i*o;return t[0]=c*s+M*-u+f*-i-h*-l,t[1]=f*s+M*-l+h*-u-c*-i,t[2]=h*s+M*-i+c*-l-f*-u,t[3]=a[3],t},n.forEach=function(){var t=n.create();return function(a,e,r,n,o,u){var l,i;for(e||(e=4),r||(r=0),i=n?Math.min(n*e+r,a.length):a.length,l=r;i>l;l+=e)t[0]=a[l],t[1]=a[l+1],t[2]=a[l+2],t[3]=a[l+3],o(t,t,u),a[l]=t[0],a[l+1]=t[1],a[l+2]=t[2],a[l+3]=t[3];return a}}(),n.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},n.equals=function(t,a){var e=t[0],n=t[1],o=t[2],u=t[3],l=a[0],i=a[1],s=a[2],c=a[3];return Math.abs(e-l)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(u-c)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))},a.exports=n},{"./common.js":15}],24:[function(t,a,e){a.exports=function(t){var a="precision mediump float; \n \nvarying vec4 color; \n \nvoid main() { \n  gl_FragColor = color; \n} \n \n";t=t||{};for(var e in t){var r=new RegExp("{{"+e+"}}","g");a=a.replace(r,t[e])}return a}},{}],25:[function(t,a,e){a.exports=function(t){var a="uniform mat4 modelView; \nuniform mat4 projection; \n \nattribute vec3 vertexPosition; \nattribute vec4 vertexColor; \n \nvarying vec4 color; \n \nvoid main() { \n  color = vertexColor; \n \n  gl_Position = projection * modelView * vec4(vertexPosition, 1.0); \n} \n \n";t=t||{};for(var e in t){var r=new RegExp("{{"+e+"}}","g");a=a.replace(r,t[e])}return a}},{}]},{},[1]);